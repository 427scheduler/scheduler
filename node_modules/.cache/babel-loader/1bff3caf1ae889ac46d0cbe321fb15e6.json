{"ast":null,"code":"var _jsxFileName = \"/Users/jenny/Desktop/SOAS/scheduler/src/FlightForm.js\";\nimport React from \"react\";\nimport \"./Form.css\";\nimport firebase from \"./Firebase.js\";\n\nDate.prototype.toDateInputValue = function () {\n  var local = new Date(this);\n  local.setMinutes(this.getMinutes() - this.getTimezoneOffset());\n  return local.toJSON().slice(0, 10);\n};\n\nconst fields = [[{\n  name: \"date\",\n  custom: true,\n  size: 'medium',\n  required: true\n}, {\n  name: \"timeStart\",\n  custom: true,\n  displayName: \"est. departure\",\n  size: 'medium',\n  required: true\n}, {\n  name: \"timeEnd\",\n  custom: true,\n  displayName: \"est. return\",\n  size: 'medium',\n  required: true\n}, {\n  name: \"flighttime\",\n  custom: true\n}], [{\n  name: \"captain\",\n  select: 'pilots',\n  size: 'medium',\n  required: false\n}, {\n  name: \"fo\",\n  select: 'pilots',\n  displayName: \"first officer\",\n  size: 'medium',\n  required: false\n}, {\n  name: \"fe\",\n  select: 'pilots',\n  displayName: \"flight engineer\",\n  size: 'medium',\n  required: false\n}, {\n  name: \"crew\",\n  select: 'pilots',\n  displayName: \"other crew\",\n  size: 'medium',\n  required: false\n}], [{\n  name: \"ac\",\n  size: 'small',\n  required: false\n}, {\n  name: \"backup\",\n  size: 'small',\n  required: false\n}, {\n  name: \"mission\",\n  size: 'medium',\n  required: false\n}, {\n  name: \"details\",\n  size: 'medium',\n  required: false\n}, {\n  name: \"config\",\n  size: 'medium',\n  required: false\n}], [{\n  name: \"remarks\",\n  size: 'large',\n  required: false\n}], [{\n  name: \"pri\",\n  displayName: 'sqn pri',\n  size: 'medium',\n  required: false\n}, {\n  name: \"meal\",\n  size: 'medium',\n  required: false\n}, {\n  name: \"dco\",\n  select: 'dco',\n  size: 'medium',\n  required: false\n}]];\n\nfunction RenderButton(props) {\n  return React.createElement(\"div\", {\n    className: \"container-form-btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"wrap-form-btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-bgbtn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"form-btn\",\n    onClick: props.onSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \"Add Flight\")));\n}\n\nclass FlightForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      date: new Date().toDateInputValue(),\n      timeStart: '0000',\n      timeEnd: '0000',\n      captain: \"\",\n      fo: \"\",\n      fe: \"\",\n      crew: \"\",\n      ac: \"\",\n      backup: \"\",\n      mission: \"\",\n      details: \"\",\n      config: \"\",\n      remarks: \"\",\n      pri: \"\",\n      meal: \"\",\n      dco: \"\",\n      type: \"flight\"\n    };\n  }\n\n  onSubmit() {\n    console.log(this.state);\n    var newEvent = firebase.firestore().collection(\"events\").doc();\n    newEvent.set(this.state).then(function () {\n      console.log(\"Event successfully added to events!\");\n    }).catch(function (error) {\n      console.error(\"Error adding event: \", error);\n    });\n    var updates = {};\n    updates['events.' + this.state.captain] = firebase.firestore.FieldValue.arrayUnion({\n      'type': 'flight',\n      'startTime': this.state.timeStart,\n      'endTime': this.state.timeEnd,\n      'id': newEvent.id\n    });\n    updates['events.' + this.state.fo] = firebase.firestore.FieldValue.arrayUnion({\n      'type': 'flight',\n      'startTime': this.state.timeStart,\n      'endTime': this.state.timeEnd,\n      'id': newEvent.id\n    });\n    var newUpcomingEvents = [firebase.firestore().collection('pilots').doc(this.state.captain).collection('upcoming-events').doc(), firebase.firestore().collection('pilots').doc(this.state.captain).collection('upcoming-events').doc()];\n\n    if (this.state.fe) {\n      updates['events.' + this.state.fo] = firebase.firestore.FieldValue.arrayUnion({\n        'type': 'flight',\n        'startTime': this.state.timeStart,\n        'endTime': this.state.timeEnd,\n        'id': newEvent.id\n      });\n      newUpcomingEvents.push(firebase.firestore().collection('pilots').doc(this.state.fe).collection('upcoming-events').doc());\n    }\n\n    if (this.state.crew) {\n      updates['events.' + this.state.fo] = firebase.firestore.FieldValue.arrayUnion({\n        'type': 'flight',\n        'startTime': this.state.timeStart,\n        'endTime': this.state.timeEnd,\n        'id': newEvent.id\n      });\n      newUpcomingEvents.push(firebase.firestore().collection('pilots').doc(this.state.crew).collection('upcoming-events').doc());\n    }\n\n    firebase.firestore().collection(\"dates\").doc(this.state.date).update(updates).then(function () {\n      console.log(\"Event successfully added to dates!\");\n    }).catch(function (error) {\n      console.error(\"Error writing document: \", error);\n    });\n    newUpcomingEvents.forEach(x => {\n      x.set({\n        ac: this.state.ac,\n        captain: this.state.captain,\n        flightid: newEvent.id,\n        config: this.state.config,\n        date: this.state.date,\n        fo: this.state.fo,\n        fe: this.state.fe,\n        crew: this.state.crew,\n        details: this.state.details,\n        timeEnd: this.state.timeEnd,\n        timeStart: this.state.timeStart\n      }).then(function () {\n        console.log(\"Event successfully added to pilots!\");\n      }).catch(function (error) {\n        console.error(\"Error writing document: \", error);\n      });\n    });\n  }\n\n  renderField(field) {\n    const name = field.name;\n    const displayName = field.hasOwnProperty(\"displayName\") ? field.displayName.toUpperCase() : field.name.toUpperCase();\n    const wrapperClassName = field.size + \"-wrapper\";\n    const fieldClassName = \"input\" + (this.state[name] != \"\" ? \" has-val\" : \"\");\n    const datalist = field.hasOwnProperty('select') ? field.select : '';\n    return React.createElement(\"div\", {\n      className: wrapperClassName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"datalist\", {\n      id: \"pilots\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"aearhart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }), React.createElement(\"option\", {\n      value: \"cyeager\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }), React.createElement(\"option\", {\n      value: \"clindbergh\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }), React.createElement(\"option\", {\n      value: \"ehartmann\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }), React.createElement(\"option\", {\n      value: \"jdoolittle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }), React.createElement(\"option\", {\n      value: \"owright\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }), React.createElement(\"option\", {\n      value: \"pmitchell\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }), React.createElement(\"option\", {\n      value: \"wwright\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    })), React.createElement(\"datalist\", {\n      id: \"dco\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"ok\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }), React.createElement(\"option\", {\n      value: \"warn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }), React.createElement(\"option\", {\n      value: \"bad\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      className: fieldClassName,\n      autoComplete: \"new-password\",\n      required: field.required,\n      type: \"text\",\n      name: name,\n      list: datalist,\n      onBlur: e => {\n        this.setState({\n          [name]: e.target.value.trim()\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"focus-input\",\n      \"data-placeholder\": displayName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }));\n  }\n\n  renderCustomField(field) {\n    switch (field.name) {\n      case \"flighttime\":\n        var time = \"0 HRS 0 MIN\";\n        var _ref = [this.state.timeStart.toString(), this.state.timeEnd.toString()],\n            start = _ref[0],\n            end = _ref[1];\n        var hours = parseInt(end.substring(0, 2)) - parseInt(start.substring(0, 2));\n        var minutes = parseInt(end.substring(2, 4)) - parseInt(start.substring(2, 4));\n\n        if (hours < 0) {\n          hours += 24;\n        }\n\n        if (minutes < 0) {\n          minutes += 60;\n          hours -= 1;\n        }\n\n        if (minutes >= 60) {\n          minutes -= 60;\n          hours += 1;\n        }\n\n        if (hours || minutes) {\n          time = hours + \" HRS \" + minutes + \" MIN\";\n        }\n\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          className: \"input has-val\",\n          type: \"text\",\n          disabled: true,\n          value: time,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }));\n\n      case \"pri\":\n      /*return (<div className=\"small-wrapper\">\n          <input className='input' required={true} type=\"text\"/> \n          <span className=\"focus-input\" data-placeholder=\"SQN PRI\"></span>\n      </div>);*/\n\n      case \"date\":\n        return React.createElement(\"div\", {\n          className: \"medium-wrapper\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          className: \"input has-val\",\n          type: \"date\",\n          name: \"name\",\n          defaultValue: new Date().toDateInputValue(),\n          onBlur: e => {\n            var d = new Date(e.target.value);\n            d.setMinutes(d.getMinutes() + d.getTimezoneOffset());\n            this.setState({\n              date: d.toDateInputValue()\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          className: \"focus-input\",\n          \"data-placeholder\": \"DATE\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        }));\n\n      default:\n        const name = field.name;\n        const displayName = field.hasOwnProperty(\"displayName\") ? field.displayName.toUpperCase() : field.name.toUpperCase();\n        const fieldClassName = \"input\" + (this.state[name] != \"\" ? \" has-val\" : \"\");\n        return React.createElement(\"div\", {\n          className: field.size + \"-wrapper\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          className: fieldClassName,\n          autoComplete: \"new-password\",\n          required: field.required,\n          type: \"number\",\n          name: name,\n          onBlur: e => {\n            this.setState({\n              [name]: e.target.value.trim()\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          className: \"focus-input\",\n          \"data-placeholder\": displayName,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193\n          },\n          __self: this\n        }));\n    }\n  }\n\n  renderRow(row) {\n    var fields = [];\n    row.forEach(field => {\n      if (field.hasOwnProperty('custom')) {\n        fields.push(this.renderCustomField(field));\n      } else {\n        fields.push(this.renderField(field));\n      }\n    });\n    return React.createElement(\"div\", {\n      className: \"row-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, fields);\n  }\n\n  renderForm() {\n    var rows = [];\n    fields.forEach(row => {\n      rows.push(this.renderRow(row));\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"form\",\n      autoComplete: \"new-password\",\n      onSubmit: e => {\n        e.preventDefault();\n        this.onSubmit();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, rows, React.createElement(RenderButton, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    })));\n  }\n\n  componentDidMount() {\n    /*\n    var pilotsList = []\n    firebase.firestore().collection(\"pilots\").doc('all-pilots')\n    .get()\n    .then((querySnapshot) => {\n    if (!querySnapshot.empty) {\n    for (var pilot in querySnapshot.data()){\n    pilotsList.push(<option value={pilot}></option>)\n    };\n    var a = document.createElement('datalist');\n    a.id = 'pilots';\n    a.innerHTML = pilotsList;\n    }\n    document.getElementsByTagName('form')[0].appendChild(pilotsList);\n    document.getElementsByName('captain')[0].setAttribute('list', 'pilots');\n    })\n    .catch(function(error) {\n    console.log(\"Error getting documents: \", error);\n    });*/\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, this.renderForm());\n  }\n\n}\n\nexport default FlightForm;","map":{"version":3,"sources":["/Users/jenny/Desktop/SOAS/scheduler/src/FlightForm.js"],"names":["React","firebase","Date","prototype","toDateInputValue","local","setMinutes","getMinutes","getTimezoneOffset","toJSON","slice","fields","name","custom","size","required","displayName","select","RenderButton","props","onSubmit","FlightForm","Component","constructor","state","date","timeStart","timeEnd","captain","fo","fe","crew","ac","backup","mission","details","config","remarks","pri","meal","dco","type","console","log","newEvent","firestore","collection","doc","set","then","catch","error","updates","FieldValue","arrayUnion","id","newUpcomingEvents","push","update","forEach","x","flightid","renderField","field","hasOwnProperty","toUpperCase","wrapperClassName","fieldClassName","datalist","e","setState","target","value","trim","renderCustomField","time","toString","start","end","hours","parseInt","substring","minutes","d","renderRow","row","renderForm","rows","preventDefault","componentDidMount","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./Form.css\";\nimport firebase from \"./Firebase.js\";\n\n\nDate.prototype.toDateInputValue = (function() {\n    var local = new Date(this);\n    local.setMinutes(this.getMinutes() - this.getTimezoneOffset());\n    return local.toJSON().slice(0,10);\n});\n\nconst fields = [[{name: \"date\", custom: true, size: 'medium', required: true}, \n{name: \"timeStart\", custom: true, displayName: \"est. departure\", size: 'medium', required: true}, \n{name: \"timeEnd\", custom: true, displayName: \"est. return\", size: 'medium', required: true}, \n{name: \"flighttime\", custom: true}],\n\n[{name: \"captain\", select: 'pilots', size: 'medium', required: false}, \n{name: \"fo\", select: 'pilots', displayName: \"first officer\", size: 'medium', required: false}, \n{name: \"fe\", select: 'pilots', displayName: \"flight engineer\", size: 'medium', required: false}, \n{name: \"crew\", select: 'pilots', displayName: \"other crew\", size: 'medium', required: false}], \n\n[{name: \"ac\", size: 'small', required: false}, \n{name: \"backup\", size: 'small', required: false}, \n{name: \"mission\", size: 'medium', required: false}, \n{name: \"details\", size: 'medium', required: false}, \n{name: \"config\", size: 'medium', required: false}], \n[{name: \"remarks\", size: 'large', required: false}], \n[{name: \"pri\", displayName: 'sqn pri', size: 'medium', required: false}, \n{name: \"meal\", size: 'medium', required: false},\n{name: \"dco\", select: 'dco', size: 'medium', required: false}] ];\n\nfunction RenderButton(props) {\n    return (\n        <div className=\"container-form-btn\">\n            <div className=\"wrap-form-btn\">\n                <div className=\"form-bgbtn\"></div>\n                <button className=\"form-btn\" onClick={props.onSubmit}>\n                    Add Flight\n                </button>\n            </div>\n        </div>\n    );\n}\n\nclass FlightForm extends React.Component {\n    constructor(props) { \n        super(props);\n        this.state = {\n            date: new Date().toDateInputValue(),\n            timeStart: '0000',\n            timeEnd: '0000',\n            captain: \"\",\n            fo: \"\",\n            fe: \"\",\n            crew: \"\",\n            ac: \"\",\n            backup: \"\",\n            mission: \"\",\n            details: \"\",\n            config: \"\",\n            remarks: \"\",\n            pri: \"\",\n            meal: \"\",\n            dco: \"\",\n            type: \"flight\"\n        }\n    }\n\n    onSubmit() {\n        console.log(this.state);\n        var newEvent = firebase.firestore().collection(\"events\").doc();\n        newEvent.set(this.state)\n        .then(function() {\n            console.log(\"Event successfully added to events!\");})\n        .catch(function(error) {\n            console.error(\"Error adding event: \", error);\n        });\n\n        var updates = {};\n        updates['events.'+this.state.captain] = firebase.firestore.FieldValue.arrayUnion({'type':'flight', 'startTime': this.state.timeStart, 'endTime': this.state.timeEnd, 'id':newEvent.id});\n        updates['events.'+this.state.fo] = firebase.firestore.FieldValue.arrayUnion({'type':'flight', 'startTime': this.state.timeStart, 'endTime': this.state.timeEnd, 'id':newEvent.id});\n        var newUpcomingEvents = [firebase.firestore().collection('pilots').doc(this.state.captain).collection('upcoming-events').doc(),\n        firebase.firestore().collection('pilots').doc(this.state.captain).collection('upcoming-events').doc()];\n\n        if (this.state.fe) {\n            updates['events.'+this.state.fo] = firebase.firestore.FieldValue.arrayUnion({'type':'flight', 'startTime': this.state.timeStart, 'endTime': this.state.timeEnd, 'id':newEvent.id});\n            newUpcomingEvents.push(firebase.firestore().collection('pilots').doc(this.state.fe).collection('upcoming-events').doc());\n        }\n        if (this.state.crew) {\n            updates['events.'+this.state.fo] = firebase.firestore.FieldValue.arrayUnion({'type':'flight', 'startTime': this.state.timeStart, 'endTime': this.state.timeEnd, 'id':newEvent.id});\n            newUpcomingEvents.push(firebase.firestore().collection('pilots').doc(this.state.crew).collection('upcoming-events').doc());\n        }\n        firebase.firestore().collection(\"dates\").doc(this.state.date).update(updates)\n        .then(function() {\n            console.log(\"Event successfully added to dates!\");})\n        .catch(function(error) {\n            console.error(\"Error writing document: \", error);\n        })\n\n        newUpcomingEvents.forEach((x)=>{x.set({\n            ac: this.state.ac,\n            captain: this.state.captain,\n            flightid: newEvent.id,\n            config: this.state.config,\n            date: this.state.date,\n            fo: this.state.fo,\n            fe: this.state.fe,\n            crew: this.state.crew,\n            details: this.state.details,\n            timeEnd: this.state.timeEnd,\n            timeStart: this.state.timeStart,})\n        .then(function() {\n            console.log(\"Event successfully added to pilots!\");})\n        .catch(function(error) {\n            console.error(\"Error writing document: \", error);\n        })})\n\n        \n    }\n\n    renderField(field) {\n        const name = field.name;\n        const displayName = field.hasOwnProperty(\"displayName\") ? field.displayName.toUpperCase() : field.name.toUpperCase();\n        const wrapperClassName = field.size + \"-wrapper\";\n        const fieldClassName = \"input\"+ (this.state[name] != \"\"? \" has-val\": \"\");\n        const datalist = field.hasOwnProperty('select') ? field.select : '';\n        return (\n            <div className={wrapperClassName}>\n            <datalist id=\"pilots\">\n                <option value=\"aearhart\"/>\n                <option value=\"cyeager\"/>\n                <option value=\"clindbergh\"/>\n                <option value=\"ehartmann\"/>\n                <option value=\"jdoolittle\"/>\n                <option value=\"owright\"/>\n                <option value=\"pmitchell\"/>\n                <option value=\"wwright\"/>\n            </datalist>\n            <datalist id=\"dco\">\n                <option value=\"ok\"/>\n                <option value=\"warn\"/>\n                <option value=\"bad\"/>\n            </datalist>\n            <input className={fieldClassName} autoComplete=\"new-password\"  required={field.required} type=\"text\" name={name} list={datalist} onBlur={(e)=>{this.setState({[name]: e.target.value.trim()});}}/>\n            <span className=\"focus-input\" data-placeholder={displayName}></span>\n            </div>\n        )\n    }\n\n    renderCustomField(field) {\n        switch(field.name) {\n            case \"flighttime\": \n                var time = \"0 HRS 0 MIN\";\n                var [start, end] = [this.state.timeStart.toString(), this.state.timeEnd.toString()];\n                var hours = parseInt(end.substring(0, 2))- parseInt(start.substring(0, 2));\n                var minutes = parseInt(end.substring(2, 4))- parseInt(start.substring(2, 4));\n                \n                if (hours < 0) {\n                    hours += 24\n                }\n                if (minutes < 0) {\n                    minutes += 60;\n                    hours -= 1;\n                }\n                if (minutes >= 60) {\n                    minutes -= 60;\n                    hours += 1;\n                }\n                if (hours || minutes){ \n                    time = hours + \" HRS \" + minutes + \" MIN\";\n                }\n                return (<div>\n                    <input className='input has-val' type=\"text\" disabled={true} value={time}/>\n                </div>);\n            case \"pri\": \n                /*return (<div className=\"small-wrapper\">\n                    <input className='input' required={true} type=\"text\"/> \n                    <span className=\"focus-input\" data-placeholder=\"SQN PRI\"></span>\n                </div>);*/\n            case \"date\": \n                return (<div className=\"medium-wrapper\">\n                <input className=\"input has-val\" type=\"date\" name=\"name\" defaultValue={new Date().toDateInputValue()} onBlur={(e)=>{var d = new Date(e.target.value);\n                    d.setMinutes( d.getMinutes() + d.getTimezoneOffset() );\n                    this.setState({date: d.toDateInputValue()});}}/>\n                <span className=\"focus-input\" data-placeholder=\"DATE\"></span>\n            </div>)\n            default: \n                const name = field.name;\n                const displayName = field.hasOwnProperty(\"displayName\") ? field.displayName.toUpperCase() : field.name.toUpperCase();\n                const fieldClassName = \"input\"+ (this.state[name] != \"\"? \" has-val\": \"\")\n                return (<div className={field.size + \"-wrapper\"}>\n                    <input className={fieldClassName} autoComplete=\"new-password\" required={field.required} type=\"number\" name={name} onBlur={(e)=>{this.setState({[name]: e.target.value.trim()});}}/>\n                    <span className=\"focus-input\" data-placeholder={displayName}></span>\n                </div>);\n        }\n    }\n\n    renderRow(row) {\n        var fields = [];\n        row.forEach(field => {\n            if (field.hasOwnProperty('custom')) {\n                fields.push(this.renderCustomField(field));\n            }\n            else {\n                fields.push(this.renderField(field));\n            }\n            \n        });\n        return (\n            <div className=\"row-wrapper\"> \n                {fields}\n            </div>\n        )\n    }\n\n    renderForm() {\n        var rows = []\n        fields.forEach(row => {\n            rows.push(this.renderRow(row));\n        });\n        return (\n            <div>\n                <form className=\"form\" autoComplete=\"new-password\"  onSubmit={(e)=>{e.preventDefault(); this.onSubmit()}}>\n                    {rows}\n                    <RenderButton/>\n                </form>\n            </div>\n        );\n    }\n\n    componentDidMount() {/*\n        var pilotsList = []\n        firebase.firestore().collection(\"pilots\").doc('all-pilots')\n        .get()\n        .then((querySnapshot) => {\n            if (!querySnapshot.empty) {\n                for (var pilot in querySnapshot.data()){\n                    pilotsList.push(<option value={pilot}></option>)\n                };\n                var a = document.createElement('datalist');\n                a.id = 'pilots';\n                a.innerHTML = pilotsList;\n            }\n            document.getElementsByTagName('form')[0].appendChild(pilotsList);\n            document.getElementsByName('captain')[0].setAttribute('list', 'pilots');\n        })\n        .catch(function(error) {\n            console.log(\"Error getting documents: \", error);\n        });*/\n    }\n    \n\n    render() {\n        return (\n            <div>\n                {this.renderForm()}\n            </div>\n        );\n    }\n}\n\nexport default FlightForm;"]},"metadata":{},"sourceType":"module"}