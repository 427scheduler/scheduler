{"ast":null,"code":"var _jsxFileName = \"/Users/jenny/Desktop/SOAS/scheduler/src/Personnel.js\";\nimport Login from \"./Login\";\nimport React from 'react';\nimport ReactGA from 'react-ga';\nimport firebase from \"./Firebase.js\";\nimport ErrorPage from './ErrorPage.js';\n\nfunction initializeReactGA() {\n  ReactGA.initialize('UA-108277898-5');\n  ReactGA.pageview('/Personnel');\n}\n\nfunction PersonnelInfo(props) {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  }, React.createElement(RenderInfo, {\n    user: props.user,\n    team: props.team,\n    name: props.name,\n    teamNum: props.teamNum,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15\n    },\n    __self: this\n  }), React.createElement(RenderLogoutBtn, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }));\n}\n\nfunction RenderInfo(props) {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"myInfo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, React.createElement(\"h6\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, \"UserID\"), React.createElement(\"input\", {\n    id: \"userid\",\n    defaultValue: props.user,\n    type: \"text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, React.createElement(\"h6\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"input\", {\n    id: \"name\",\n    defaultValue: props.name,\n    type: \"text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(\"h6\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \"Team Number\"), React.createElement(\"input\", {\n    id: \"name\",\n    defaultValue: props.teamNum,\n    type: \"text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"teamInfo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(TeamInfo, {\n    team: props.team,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  })));\n}\n\nfunction TeamInfo(props) {\n  var team = [];\n  props.team.forEach(member => {\n    team.push(React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, parseID(member)));\n  });\n  return team;\n}\n\nfunction RenderLogoutBtn() {\n  return React.createElement(\"div\", {\n    className: \"logout-btn-div \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"logout-btn\",\n    type: \"button\",\n    onClick: logOut,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Log Out\"));\n}\n\nfunction logOut() {\n  if (!window.confirm(\"Are you sure you want to log out?\")) {\n    return;\n  }\n\n  return React.createElement(Login, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  });\n}\n\nfunction parseID(id) {\n  //aearhart to A. Earhart \n  if (id) {\n    return id[0].toUpperCase() + \". \" + id[1].toUpperCase() + id.slice(2);\n  }\n}\n\nfunction parseName(name) {\n  //Amelia Earhart to aearhart\n  if (name) {\n    return name[0].toLowerCase() + name.slice(name.indexOf(' ') + 1).toLowerCase();\n  }\n}\n\nclass Personnel extends React.Component {\n  constructor(props) {\n    super(props);\n    /* name */\n\n    this.state = {\n      team: [],\n      teamNum: null,\n      userID: '',\n      hasError: false\n    };\n  }\n\n  componentDidCatch(error, info) {\n    // Display fallback UI\n    this.setState({\n      hasError: true\n    });\n    console.log(error, info);\n  }\n\n  componentDidMount() {\n    initializeReactGA();\n    this.getTeamMembers();\n    var id = parseName(this.props.name);\n    this.setState({\n      userID: id\n    });\n  }\n\n  getTeamMembers() {\n    var user = parseName(this.props.name);\n    firebase.firestore().collection(\"pilots\").doc(user).get().then(querySnapshot => {\n      if (!querySnapshot.empty) {\n        var num = querySnapshot.data().team;\n        this.setState({\n          teamNum: num\n        });\n        firebase.firestore().collection(\"pilots\").doc(num.toString()).get().then(querySnapshot => {\n          if (!querySnapshot.empty) {\n            this.setState({\n              team: querySnapshot.data().pilots\n            });\n          } else {\n            console.log(\"Document doesn't exist\");\n            this.setState({\n              team: null\n            });\n          }\n\n          ;\n        });\n      } else {\n        console.log(\"Document doesn't exist\");\n        this.setState({\n          team: null\n        });\n      }\n\n      ;\n    }).catch(function (error) {\n      console.log(\"This user doesn't exist: \", error);\n    });\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return React.createElement(ErrorPage, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(PersonnelInfo, {\n      user: this.state.userID,\n      name: this.props.name,\n      team: this.state.team,\n      teamNum: this.state.teamNum,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default Personnel;","map":{"version":3,"sources":["/Users/jenny/Desktop/SOAS/scheduler/src/Personnel.js"],"names":["Login","React","ReactGA","firebase","ErrorPage","initializeReactGA","initialize","pageview","PersonnelInfo","props","user","team","name","teamNum","RenderInfo","TeamInfo","forEach","member","push","parseID","RenderLogoutBtn","logOut","window","confirm","id","toUpperCase","slice","parseName","toLowerCase","indexOf","Personnel","Component","constructor","state","userID","hasError","componentDidCatch","error","info","setState","console","log","componentDidMount","getTeamMembers","firestore","collection","doc","get","then","querySnapshot","empty","num","data","toString","pilots","catch","render"],"mappings":"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","sourcesContent":["import Login from \"./Login\";\nimport React from 'react';\nimport ReactGA from 'react-ga';\nimport firebase from \"./Firebase.js\";\nimport ErrorPage from './ErrorPage.js';\n\nfunction initializeReactGA() {\n    ReactGA.initialize('UA-108277898-5');\n    ReactGA.pageview('/Personnel');\n}\n\nfunction PersonnelInfo(props) {\n    return (\n        <div>\n            <RenderInfo user={props.user} team={props.team} name={props.name} teamNum={props.teamNum}/>\n            <RenderLogoutBtn/>\n        </div>\n    )\n}\n\nfunction RenderInfo(props) {\n    return (\n        <div>\n            <div className=\"myInfo\">\n                <div className=\"info\">\n                    <h6>UserID</h6>\n                    <input id=\"userid\" defaultValue={props.user} type=\"text\"/>\n                </div>\n                <div className=\"info\">\n                    <h6>Name</h6>\n                    <input id=\"name\" defaultValue={props.name} type=\"text\"/>\n                </div>\n                <div className=\"info\">\n                    <h6>Team Number</h6>\n                    <input id=\"name\" defaultValue={props.teamNum} type=\"text\"/>\n                </div>\n            </div>\n            <div className=\"teamInfo\">\n                <TeamInfo team={props.team}/>\n            </div>\n        </div>\n    )\n}\n\nfunction TeamInfo(props) {\n    var team = [];\n\n    props.team.forEach((member) => {\n        team.push(<p>{parseID(member)}</p>)\n    }) \n\n    return team\n\n}\n\n\n\nfunction RenderLogoutBtn() {\n    return (\n        <div className='logout-btn-div '>\n                <button className=\"logout-btn\" type=\"button\" onClick={logOut}>\n                    Log Out\n                </button>\n        </div>\n    );\n}\n\nfunction logOut() {\n    if (!window.confirm(\"Are you sure you want to log out?\")) {\n        return;\n      } \n    return <Login/>\n}\n\nfunction parseID(id) {\n    //aearhart to A. Earhart \n    if (id) {\n    return id[0].toUpperCase() + \". \" + id[1].toUpperCase() + id.slice(2);}\n}\n\nfunction parseName(name) {\n    //Amelia Earhart to aearhart\n    if (name) {\n    return name[0].toLowerCase() + name.slice(name.indexOf(' ')+1).toLowerCase();}\n}\n\n\nclass Personnel extends React.Component{\n    constructor(props) {\n        super(props)\n        /* name */\n        this.state={\n            team: [],\n            teamNum: null,\n            userID: '',\n            hasError: false\n        };\n    }\n    componentDidCatch(error, info) {\n        // Display fallback UI\n        this.setState({ hasError: true });\n        console.log(error, info);\n    }\n\n    componentDidMount() {\n        initializeReactGA();\n        this.getTeamMembers();\n        var id = parseName(this.props.name);\n        this.setState({userID: id});\n    }\n\n    getTeamMembers() {\n        var user = parseName(this.props.name);\n        firebase.firestore().collection(\"pilots\").doc(user)\n        .get()\n        .then((querySnapshot) => {\n            if (!querySnapshot.empty) {\n                var num = querySnapshot.data().team;\n                this.setState({teamNum: num});\n                firebase.firestore().collection(\"pilots\").doc(num.toString())\n                .get()\n                .then((querySnapshot) => {\n                    if (!querySnapshot.empty) {\n                        this.setState({team: querySnapshot.data().pilots});\n                    }\n                    else {\n                        console.log(\"Document doesn't exist\");\n                        this.setState({team: null});\n                    };\n                });  \n            }\n            else {\n                console.log(\"Document doesn't exist\");\n                this.setState({team: null});\n            };\n        })\n        .catch(function(error) {\n            console.log(\"This user doesn't exist: \", error);\n        });\n    }\n\n    render() {\n        if (this.state.hasError) {\n            return <ErrorPage/>\n        }\n        return (\n            <PersonnelInfo user={this.state.userID} name={this.props.name} team={this.state.team} teamNum={this.state.teamNum}/>\n        )\n    }\n}\n\nexport default Personnel;"]},"metadata":{},"sourceType":"module"}