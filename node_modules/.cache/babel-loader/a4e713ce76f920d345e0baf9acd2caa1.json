{"ast":null,"code":"var _jsxFileName = \"/Users/jenny/Desktop/SOAS/scheduler/src/EventForm.js\";\nimport React from \"react\";\nimport \"./Form.css\";\nimport firebase from \"./Firebase.js\";\n\nDate.prototype.toDateInputValue = function () {\n  var local = new Date(this);\n  local.setMinutes(this.getMinutes() - this.getTimezoneOffset());\n  return local.toJSON().slice(0, 10);\n};\n\nclass EventForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: \"\",\n      type: \"apt\",\n      startDate: \"\",\n      endDate: \"\",\n      startTime: 0,\n      endTime: 0,\n      notes: \"\",\n      userid: \"\",\n      event: \"apt\"\n    };\n  }\n\n  onSubmit() {\n    console.log(this.state);\n    firebase.firestore().collection(\"events\").doc().set(this.state).then(function () {\n      console.log(\"Event successfully added!\");\n    }).catch(function (error) {\n      console.error(\"Error adding event: \", error);\n    });\n    firebase.firestore().collection(\"dates\").doc('07-24-2019').update({\n      'events.aearhart': firebase.firestore.FieldValue.arrayUnion({\n        'type': 'flight',\n        'startTime': 1520,\n        'endTime': 1720,\n        'id': '4512fsa95'\n      })\n    }).then(function (docRef) {\n      console.log(\"Document successfully written!\");\n    }).catch(function (error) {\n      console.error(\"Error writing document: \", error);\n    });\n  }\n\n  onBlur(name, e, type) {\n    if (type == 'date') {\n      var d = new Date(e.target.value);\n      d.setMinutes(d.getMinutes() + d.getTimezoneOffset());\n      this.setState({\n        [name]: d.toDateInputValue()\n      });\n    } else if (type == 'number') {\n      this.setState({\n        [name]: e.target.value\n      });\n    } else {\n      this.setState({\n        [name]: e.target.value.trim()\n      });\n    }\n  }\n\n  eventSelected(event) {\n    console.log(event);\n    this.setState({\n      event: event\n    });\n  }\n\n  componentDidMount() {\n    this.setState({\n      userid: (this.props.activeUser[0] + this.props.activeUser.split(' ')[1]).toLowerCase()\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"event-select\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"event-type\" + (this.state.event == 'apt' ? ' active' : ''),\n      onClick: () => {\n        this.eventSelected('apt');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Appointment\"), React.createElement(\"button\", {\n      className: \"event-type\" + (this.state.event == 'leave' ? ' active' : ''),\n      onClick: () => {\n        this.eventSelected('leave');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Leave/CTO\"), React.createElement(\"button\", {\n      className: \"event-type\" + (this.state.event == 'pers' ? ' active' : ''),\n      onClick: () => {\n        this.eventSelected('pers');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"PERS COURSE\"), React.createElement(\"button\", {\n      className: \"event-type\" + (this.state.event == 'yl' ? ' active' : ''),\n      onClick: () => {\n        this.eventSelected('yl');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"YL\")), React.createElement(\"form\", {\n      className: \"event-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"large-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"input\" + (this.state.title !== \"\" ? \" has-val\" : \"\"),\n      type: \"text\",\n      name: \"title\",\n      required: true,\n      onBlur: e => {\n        this.onBlur('title', e);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"focus-input\",\n      \"data-placeholder\": \"EVENT TITLE\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"row-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"medium-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"input has-val\",\n      required: true,\n      type: \"date\",\n      name: \"startDate\",\n      value: new Date().toDateInputValue(),\n      onBlur: e => {\n        this.onBlur('startDate', e, 'date');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"focus-input\",\n      \"data-placeholder\": \"START DATE\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"medium-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"input\" + (this.state.startTime !== \"\" ? \" has-val\" : \"\"),\n      type: \"number\",\n      name: \"startTime\",\n      onBlur: e => {\n        this.onBlur('startTime', e, 'number');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"focus-input\",\n      \"data-placeholder\": \"START TIME\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"medium-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"input has-val\",\n      type: \"date\",\n      name: \"endDate\",\n      value: new Date().toDateInputValue(),\n      onBlur: e => {\n        this.onBlur('endDate', e, 'date');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"focus-input\",\n      \"data-placeholder\": \"END DATE\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"medium-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"input\" + (this.state.endTime !== \"\" ? \" has-val\" : \"\"),\n      type: \"number\",\n      name: \"esp\",\n      onBlur: e => {\n        this.onBlur('endTime', e, 'number');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"focus-input\",\n      \"data-placeholder\": \"END TIME\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"wrap-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"input\" + (this.state.notes != \"\" ? \" has-val\" : \"\"),\n      type: \"text\",\n      name: \"notes\",\n      onBlur: e => {\n        this.onBlur('notes', e);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"focus-input\",\n      \"data-placeholder\": \"EVENT NOTES\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"container-form-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wrap-form-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-bgbtn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"form-btn\",\n      onClick: e => {\n        e.preventDefault();\n        this.onSubmit();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Add Event\")))));\n  }\n\n}\n\nexport default EventForm;","map":{"version":3,"sources":["/Users/jenny/Desktop/SOAS/scheduler/src/EventForm.js"],"names":["React","firebase","Date","prototype","toDateInputValue","local","setMinutes","getMinutes","getTimezoneOffset","toJSON","slice","EventForm","Component","constructor","props","state","title","type","startDate","endDate","startTime","endTime","notes","userid","event","onSubmit","console","log","firestore","collection","doc","set","then","catch","error","update","FieldValue","arrayUnion","docRef","onBlur","name","e","d","target","value","setState","trim","eventSelected","componentDidMount","activeUser","split","toLowerCase","render","preventDefault"],"mappings":"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","sourcesContent":["import React from\"react\";\nimport\"./Form.css\";\nimport firebase from \"./Firebase.js\";\n\n\nDate.prototype.toDateInputValue = (function() {\n    var local = new Date(this);\n    local.setMinutes(this.getMinutes() - this.getTimezoneOffset());\n    return local.toJSON().slice(0,10);\n});\n\n\nclass EventForm extends React.Component {\n    constructor(props) { \n        super(props);\n        this.state = {\n            title: \"\", \n            type: \"apt\", \n            startDate: \"\",\n            endDate: \"\",\n            startTime: 0,\n            endTime: 0,\n            notes: \"\",\n            userid: \"\",\n            event: \"apt\",\n        }\n    }\n\n    onSubmit() {\n        console.log(this.state);\n        firebase.firestore().collection(\"events\").doc().set(this.state)\n        .then(function() {\n            console.log(\"Event successfully added!\");\n        })\n        .catch(function(error) {\n            console.error(\"Error adding event: \", error);\n        });\n\n        firebase.firestore().collection(\"dates\").doc('07-24-2019').update({\n            'events.aearhart': firebase.firestore.FieldValue.arrayUnion({'type':'flight', 'startTime': 1520, 'endTime': 1720, 'id':'4512fsa95'})\n            })\n        .then(function(docRef) {\n            console.log(\"Document successfully written!\");})\n        .catch(function(error) {\n            console.error(\"Error writing document: \", error);\n        })\n    }\n\n    onBlur(name, e, type) {\n        if (type == 'date') {\n            var d = new Date(e.target.value);\n            d.setMinutes( d.getMinutes() + d.getTimezoneOffset() );\n            this.setState({[name]: d.toDateInputValue()});\n        }\n        else if (type == 'number')  {\n            this.setState({[name]: e.target.value});\n        }\n        else {\n            this.setState({[name]: e.target.value.trim()});\n        }\n    }\n\n    eventSelected(event) {\n        console.log(event);\n        this.setState({event: event});\n    }\n\n    componentDidMount() {\n        this.setState({userid: (this.props.activeUser[0] + this.props.activeUser.split(' ')[1]).toLowerCase()});\n    }\n\n    render() {\n\n        return (\n            \n            <div>\n                <div className=\"event-select\"> \n                    <button className={\"event-type\" + (this.state.event == 'apt' ? ' active' : '')} onClick={()=>{this.eventSelected('apt')}}>Appointment</button>\n                    <button className={\"event-type\" + (this.state.event == 'leave' ? ' active' : '')} onClick={()=>{this.eventSelected('leave')}}>Leave/CTO</button>\n                    <button className={\"event-type\" + (this.state.event == 'pers' ? ' active' : '')} onClick={()=>{this.eventSelected('pers')}}>PERS COURSE</button>\n                    <button className={\"event-type\" + (this.state.event == 'yl' ? ' active' : '')} onClick={()=>{this.eventSelected('yl')}}>YL</button>\n                </div>\n                <form className=\"event-form\">\n                    <div className=\"large-wrapper\">\n                        <input className={\"input\"+ (this.state.title !== \"\"? \" has-val\": \"\")} type=\"text\" name=\"title\" required={true} onBlur={(e)=>{this.onBlur('title',e)}}/>\n                        <span className=\"focus-input\" data-placeholder=\"EVENT TITLE\"></span>\n                    </div>\n                    <div className=\"row-wrapper\"> \n                        <div className=\"medium-wrapper\">\n                            <input className={\"input has-val\"}  required={true}type=\"date\" name=\"startDate\" value={new Date().toDateInputValue()} onBlur={(e)=>{this.onBlur('startDate',e, 'date')}}/>\n                            <span className=\"focus-input\" data-placeholder=\"START DATE\"></span>\n                        </div>\n                        <div className=\"medium-wrapper\">\n                            <input className={\"input\"+ (this.state.startTime !== \"\"? \" has-val\": \"\")} type=\"number\" name=\"startTime\" onBlur={(e)=>{this.onBlur('startTime',e, 'number')}}/>\n                            <span className=\"focus-input\" data-placeholder=\"START TIME\"></span>\n                        </div>\n                        <div className=\"medium-wrapper\">\n                            <input className={\"input has-val\"}  type=\"date\" name=\"endDate\" value={new Date().toDateInputValue()} onBlur={(e)=>{this.onBlur('endDate',e, 'date')}}/>\n                            <span className=\"focus-input\" data-placeholder=\"END DATE\"></span>\n                        </div>\n                        <div className=\"medium-wrapper\">\n                            <input className={\"input\"+ (this.state.endTime !== \"\"? \" has-val\": \"\")}  type=\"number\" name=\"esp\" onBlur={(e)=>{this.onBlur('endTime',e, 'number')}}/>\n                            <span className=\"focus-input\" data-placeholder=\"END TIME\"></span>\n                        </div>\n                    </div>\n                    \n                    <div className=\"wrap-input\">\n                        <input className={\"input\"+ (this.state.notes != \"\"? \" has-val\": \"\")}  type=\"text\" name=\"notes\" onBlur={(e)=>{this.onBlur('notes',e)}}/>\n                        <span className=\"focus-input\" data-placeholder=\"EVENT NOTES\"></span>\n                    </div>\n\n                    \n                    <div className=\"container-form-btn\">\n                        <div className=\"wrap-form-btn\">\n                            <div className=\"form-bgbtn\"></div>\n                                <button className=\"form-btn\" onClick={(e)=>{e.preventDefault();this.onSubmit()}}>\n                                    Add Event\n                                </button>\n                        </div>\n                    </div>\n                </form>\n\n            </div>\n\n        );\n    }\n}\n\nexport default EventForm;"]},"metadata":{},"sourceType":"module"}