{"ast":null,"code":"var _jsxFileName = \"/Users/jenny/Desktop/SOAS/scheduler/src/Login.js\";\nimport React from 'react';\nimport ReactGA from 'react-ga';\nimport \"./Login.css\";\nimport firebase from \"./Firebase.js\";\nimport ErrorPage from './ErrorPage.js';\nimport Helper from './Helper.js';\n/*function checkInput(input) {\n    if (input == \"Amelia Earhart\") {\n        document.getElementsByClassName(\"pswdForm\")[0].hidden = false;\n        document.getElementsByClassName(\"pswdInput\")[0].hidden = false;\n    }\n    else {\n        if (document.getElementsByClassName(\"pswdForm\")[0].hidden == false) {\n            document.getElementsByClassName(\"pswdForm\")[0].hidden = true;\n            document.getElementsByClassName(\"pswdInput\")[0].hidden = true;\n        }\n    }\n}*/\n\nfunction initializeReactGA() {\n  ReactGA.initialize('UA-108277898-5');\n  ReactGA.pageview('/Login');\n}\n\nfunction validateLoginInput(email, password) {\n  var ok = true;\n\n  if ((email.length < 4 || email.slice(-13) !== '@forces.gc.ca') && email !== 'amelia.earhart97@outlook.com') {\n    //if (email.length < 4){\n    setAlert('email', 'Please enter your @forces.gc.ca email address');\n    ok = false;\n  } else {\n    setAlert('email', '');\n  }\n\n  if (password.length < 6) {\n    setAlert('password', 'Please enter a password longer than 6 characters');\n    ok = false;\n  } else {\n    setAlert('password', '');\n  }\n\n  return ok;\n}\n\nfunction validateSignUpInput(email, password, passwordConfirm, firstName, lastName) {\n  var ok = true;\n\n  if ((email.length < 4 || email.slice(-13) !== '@forces.gc.ca') && email !== 'amelia.earhart97@outlook.com') {\n    //if (email.length < 4){\n    setAlert('email', 'Please enter your @forces.gc.ca email address');\n    ok = false;\n  } else {\n    setAlert('email', '');\n  }\n\n  if (password.length < 5) {\n    setAlert('password', 'Please enter a password');\n    ok = false;\n  } else if (passwordConfirm != password) {\n    setAlert('password', 'Passwords don\\'t match');\n    ok = false;\n  } else {\n    setAlert('password', '');\n  }\n\n  if (firstName.length < 2) {\n    setAlert('firstName', 'Please enter a first name');\n    ok = false;\n  } else {\n    setAlert('firstName', '');\n  }\n\n  if (lastName.length < 2) {\n    setAlert('lastName', 'Please enter a last name');\n    ok = false;\n  } else {\n    setAlert('lastName', '');\n  }\n\n  return ok;\n}\n\nfunction handleError(errorCode, errorMessage) {\n  switch (errorCode) {\n    case 'auth/weak-password':\n      setAlert('password', 'The password is too weak');\n      break;\n\n    case 'auth/wrong-password':\n      setAlert('password', 'Wrong password');\n      break;\n\n    case 'auth/email-already-in-use':\n      setAlert('email', 'The email address is already in use by another account.');\n      break;\n\n    case 'auth/user-not-found':\n      setAlert('email', 'This user does not exist. Please sign up.');\n      break;\n\n    default:\n      setAlert('email', errorMessage);\n  }\n}\n/**\n * Handles the sign up button press.\n */\n\n\nfunction setAlert(type, alertText) {\n  var errorType = type + 'Error';\n  document.getElementById(errorType).innerHTML = alertText;\n}\n\nfunction LoginForm(props) {\n  //var pilots = []\n  //firebase.ref('/pilots').once('name').then(function(snapshot) {\n  //    console.log(snapshot.val())\n  //});\n  return React.createElement(\"form\", {\n    className: \"form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    className: \"userForm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, \"Email\"), React.createElement(\"input\", {\n    className: \"login_input\",\n    id: \"login_email\",\n    onKeyUp: handleEnter,\n    type: \"text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    id: \"emailError\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }), React.createElement(\"h2\", {\n    className: \"pswdForm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"Password\"), React.createElement(\"input\", {\n    className: \"login_input\",\n    id: \"login_password\",\n    onKeyUp: handleEnter,\n    type: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    id: \"passwordError\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }), React.createElement(RenderLoginButtons, {\n    getSignUpForm: props.getSignUpForm,\n    logIn: props.logIn,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }));\n}\n\nfunction SignUpForm(props) {\n  //var pilots = []\n  //firebase.ref('/pilots').once('name').then(function(snapshot) {\n  //    console.log(snapshot.val())\n  //});\n  return React.createElement(\"form\", {\n    className: \"form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"surow su_narrow\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"sutext\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, \"First Name\"), React.createElement(\"input\", {\n    className: \"suinput\",\n    id: \"su_firstName\",\n    onKeyUp: handleEnter,\n    type: \"text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    id: \"firstNameError\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"surow su_narrow\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"sutext\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, \"Last Name\"), React.createElement(\"input\", {\n    className: \"suinput\",\n    id: \"su_lastName\",\n    onKeyUp: handleEnter,\n    type: \"text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    id: \"lastNameError\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"surow\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"sutext\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, \"Email\"), React.createElement(\"input\", {\n    className: \"suinput\",\n    id: \"su_email\",\n    onKeyUp: handleEnter,\n    type: \"text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    id: \"emailError\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  })), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"surow\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"sutext\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, \"Password\"), React.createElement(\"input\", {\n    className: \"suinput\",\n    id: \"su_password\",\n    onKeyUp: handleEnter,\n    type: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    id: \"passwordError\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  })), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"surow\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"sutext\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, \"Confirm Password\"), React.createElement(\"input\", {\n    className: \"suinput\",\n    id: \"su_passwordConfirm\",\n    onKeyUp: handleEnter,\n    type: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  })), React.createElement(RenderSignUpButtons, {\n    getLoginForm: props.getLoginForm,\n    signUp: props.signUp,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }));\n}\n\nfunction VerifyEmail() {\n  return React.createElement(\"div\", {\n    className: \"verify\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    id: \"verifyIcon\",\n    src: require('./img/mail.png'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }), React.createElement(\"h3\", {\n    id: \"verifyMessage\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, \"Please verify your email\"));\n}\n\nfunction handleEnter(event) {\n  if (event.keyCode === 13) {\n    // Trigger the button element with a click\n    document.getElementsByClassName(\"sign-in-btn\")[0].click();\n  }\n}\n\nfunction RenderLoginButtons(props) {\n  return React.createElement(\"div\", {\n    className: \"login-form-btns \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"sign-up-btn\",\n    type: \"button\",\n    onClick: props.getSignUpForm,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }, \"Sign Up\"), React.createElement(\"button\", {\n    className: \"sign-in-btn\",\n    onKeyUp: handleEnter,\n    type: \"button\",\n    onClick: props.logIn,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, \"Next\"));\n}\n\nfunction RenderSignUpButtons(props) {\n  return React.createElement(\"div\", {\n    className: \"login-form-btns \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"sign-up-btn\",\n    type: \"button\",\n    onClick: props.getLoginForm,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }, \"Cancel\"), React.createElement(\"button\", {\n    className: \"sign-in-btn\",\n    onKeyUp: handleEnter,\n    type: \"button\",\n    onClick: props.signUp,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206\n    },\n    __self: this\n  }, \"Sign Up\"));\n}\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hasError: false,\n      action: 'login'\n    }; //possible values: login, signUp, verify\n  }\n\n  componentDidCatch(error, info) {\n    // Display fallback UI\n    this.setState({\n      hasError: true\n    });\n    console.log(error, info);\n  }\n\n  componentDidMount() {\n    initializeReactGA();\n  }\n\n  getLoginForm() {\n    this.setState({\n      action: 'login'\n    });\n  }\n\n  getSignUpForm() {\n    this.setState({\n      action: 'signUp'\n    });\n  }\n\n  getVerify() {\n    this.setState({\n      action: 'verify'\n    });\n  }\n\n  logIn() {\n    var getVerify = this.getVerify.bind(this);\n\n    if (firebase.auth().currentUser) {\n      // [START signout]\n      firebase.auth().signOut(); // [END signout]\n    } else {\n      var email = document.getElementById('login_email').value;\n      var password = document.getElementById('login_password').value;\n\n      if (!validateLoginInput(email, password)) {\n        return;\n      } // Sign in with email and pass.\n\n\n      firebase.auth().signInWithEmailAndPassword(email, password).catch(function (error) {\n        // Handle Errors here.\n        handleError(error.code, error.message);\n        console.log(error);\n      });\n      firebase.auth().onAuthStateChanged(function (user) {\n        if (user) {\n          if (!user.emailVerified) {\n            getVerify();\n          }\n        }\n      });\n    } //document.getElementById('quickstart-sign-in').disabled = true;\n\n  }\n\n  signUp() {\n    var email = document.getElementById('su_email').value;\n    var password = document.getElementById('su_password').value;\n    var passwordConfirm = document.getElementById('su_passwordConfirm').value;\n    var firstName = document.getElementById('su_firstName').value;\n    var lastName = document.getElementById('su_lastName').value;\n    firstName = firstName[0].toUpperCase() + firstName.substring(1).toLowerCase();\n    lastName = lastName[0].toUpperCase() + lastName.substring(1).toLowerCase();\n    var uid = Helper.parseName(firstName + ' ' + lastName);\n    var getVerify = this.getVerify.bind(this);\n    var firebaseid = '';\n\n    if (!validateSignUpInput(email, password, passwordConfirm, firstName, lastName)) {\n      return;\n    } //Sign up user \n\n\n    firebase.auth().createUserWithEmailAndPassword(email, password).then(function () {\n      firebase.auth().onAuthStateChanged(function (user) {\n        if (user) {\n          if (!user.displayName) {\n            user.updateProfile({\n              displayName: firstName + \" \" + lastName\n            }).catch(function (error) {\n              console.log(\"An error occurred while creating name. Please try again.\");\n            });\n          }\n\n          if (!user.emailVerified) {\n            user.sendEmailVerification();\n            getVerify();\n          }\n\n          firebaseid = user.uid;\n          console.log(user.uid);\n        }\n      });\n      firebase.firestore().collection(\"pilots\").doc(Helper.parseName(firstName + ' ' + lastName)).set({\n        team: 0,\n        role: 'N/A',\n        firstName: {\n          firstName\n        },\n        lastName: {\n          lastName\n        },\n        email: {\n          email\n        },\n        lastFlight: '2019-01-01',\n        approved: false\n      }).then(function () {\n        console.log(firstName + \" \" + lastName + \" successfully written!\");\n      }).catch(function (error) {\n        console.error(\"Error writing \" + firstName + \" \" + lastName + \": \", error);\n      });\n      firebase.firestore().collection(\"users\").doc(firebaseid).set({\n        id: uid\n      }).catch(function (error) {\n        console.log(\"Error writing to users: \", error);\n      });\n    }).catch(function (error) {\n      // Handle Errors here.\n      handleError(error.code, error.message);\n      console.log(error.code, error);\n\n      if (error.code == \"auth/weak-password\") {\n        setAlert('password', error.message);\n      }\n\n      return;\n    });\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return React.createElement(ErrorPage, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      });\n    }\n\n    if (this.state.action == 'signUp') {\n      return React.createElement(SignUpForm, {\n        getLoginForm: this.getLoginForm.bind(this),\n        signUp: this.signUp.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350\n        },\n        __self: this\n      });\n    } else if (this.state.action == 'verify') {\n      return React.createElement(VerifyEmail, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(LoginForm, {\n        getSignUpForm: this.getSignUpForm.bind(this),\n        logIn: this.logIn.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/jenny/Desktop/SOAS/scheduler/src/Login.js"],"names":["React","ReactGA","firebase","ErrorPage","Helper","initializeReactGA","initialize","pageview","validateLoginInput","email","password","ok","length","slice","setAlert","validateSignUpInput","passwordConfirm","firstName","lastName","handleError","errorCode","errorMessage","type","alertText","errorType","document","getElementById","innerHTML","LoginForm","props","handleEnter","getSignUpForm","logIn","SignUpForm","getLoginForm","signUp","VerifyEmail","require","event","keyCode","getElementsByClassName","click","RenderLoginButtons","RenderSignUpButtons","Login","Component","constructor","state","hasError","action","componentDidCatch","error","info","setState","console","log","componentDidMount","getVerify","bind","auth","currentUser","signOut","value","signInWithEmailAndPassword","catch","code","message","onAuthStateChanged","user","emailVerified","toUpperCase","substring","toLowerCase","uid","parseName","firebaseid","createUserWithEmailAndPassword","then","displayName","updateProfile","sendEmailVerification","firestore","collection","doc","set","team","role","lastFlight","approved","id","render"],"mappings":"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","sourcesContent":["import React from 'react'\nimport ReactGA from 'react-ga';\nimport \"./Login.css\"\nimport firebase from \"./Firebase.js\";\nimport ErrorPage from './ErrorPage.js';\nimport Helper from './Helper.js';\n\n\n/*function checkInput(input) {\n    if (input == \"Amelia Earhart\") {\n        document.getElementsByClassName(\"pswdForm\")[0].hidden = false;\n        document.getElementsByClassName(\"pswdInput\")[0].hidden = false;\n    }\n    else {\n        if (document.getElementsByClassName(\"pswdForm\")[0].hidden == false) {\n            document.getElementsByClassName(\"pswdForm\")[0].hidden = true;\n            document.getElementsByClassName(\"pswdInput\")[0].hidden = true;\n        }\n    }\n}*/\n\nfunction initializeReactGA() {\n    ReactGA.initialize('UA-108277898-5');\n    ReactGA.pageview('/Login');\n  }\n\nfunction validateLoginInput(email, password) {\n    var ok = true;\n    if ((email.length < 4 || email.slice(-13) !== '@forces.gc.ca') && email !== 'amelia.earhart97@outlook.com') {\n    //if (email.length < 4){\n        setAlert('email', 'Please enter your @forces.gc.ca email address');\n        ok = false;\n    }\n    else {setAlert('email', '')}\n    if (password.length < 6 ) {\n        setAlert('password','Please enter a password longer than 6 characters');\n        ok = false;\n    }\n    else {setAlert('password', '')}\n\n    return ok;\n}\n\n\nfunction validateSignUpInput(email, password, passwordConfirm, firstName, lastName) {\n    var ok = true;\n    if ((email.length < 4 || email.slice(-13) !== '@forces.gc.ca') && email !== 'amelia.earhart97@outlook.com') {\n    //if (email.length < 4){\n        setAlert('email', 'Please enter your @forces.gc.ca email address');\n        ok = false;\n    }\n    else {setAlert('email', '')}\n\n    if (password.length < 5 ) {\n        setAlert('password','Please enter a password');\n        ok = false;\n    }\n    else if (passwordConfirm != password) {\n        setAlert('password','Passwords don\\'t match');\n        ok = false;\n    }\n    else {setAlert('password', '')}\n\n    if (firstName.length < 2 ) {\n        setAlert('firstName','Please enter a first name');\n        ok = false;\n    }\n    else {setAlert('firstName', '')}\n\n    if (lastName.length < 2 ) {\n        setAlert('lastName','Please enter a last name');\n        ok = false;\n    }\n    else {setAlert('lastName', '')}\n    \n    return ok;\n}\n\n\nfunction handleError(errorCode, errorMessage) {\n    switch(errorCode) {\n        case 'auth/weak-password':\n            setAlert('password','The password is too weak');\n            break;\n        case 'auth/wrong-password': \n            setAlert('password', 'Wrong password')\n            break;\n        case 'auth/email-already-in-use': \n            setAlert('email','The email address is already in use by another account.');\n            break;\n        case 'auth/user-not-found': \n            setAlert('email', 'This user does not exist. Please sign up.');\n            break;\n        default: \n            setAlert('email', errorMessage);\n    }\n}\n/**\n * Handles the sign up button press.\n */\n\n\n\nfunction setAlert(type, alertText) {\n    var errorType = type + 'Error';\n    document.getElementById(errorType).innerHTML = alertText;\n}\nfunction LoginForm(props) {\n    //var pilots = []\n    //firebase.ref('/pilots').once('name').then(function(snapshot) {\n    //    console.log(snapshot.val())\n    //});\n    \n    return (\n        <form className=\"form\">\n            <h2 className=\"userForm\">Email</h2>\n            <input className=\"login_input\" id=\"login_email\" onKeyUp={handleEnter} type=\"text\"/>\n            <p id=\"emailError\"/>\n            <br/>\n            <h2 className=\"pswdForm\" >Password</h2>\n            <input className=\"login_input\" id=\"login_password\" onKeyUp={handleEnter} type=\"password\"/>\n            <p id=\"passwordError\"/>\n            <RenderLoginButtons getSignUpForm={props.getSignUpForm} logIn={props.logIn}/>\n        </form> \n    )\n}\n\nfunction SignUpForm(props) {\n    //var pilots = []\n    //firebase.ref('/pilots').once('name').then(function(snapshot) {\n    //    console.log(snapshot.val())\n    //});\n    \n    return (\n        <form className=\"form\">\n            <div>\n            <div className=\"surow su_narrow\">\n                <h3 className=\"sutext\">First Name</h3>\n                <input className=\"suinput\" id=\"su_firstName\" onKeyUp={handleEnter} type=\"text\"/>\n                <p id=\"firstNameError\"/>\n            </div>\n            <div className=\"surow su_narrow\">\n                <h3 className=\"sutext\">Last Name</h3>\n                <input className=\"suinput\" id=\"su_lastName\" onKeyUp={handleEnter} type=\"text\"/>\n                <p id=\"lastNameError\"/>\n            </div>\n            </div>\n            <br/>\n            <div className=\"surow\">\n            <h3 className=\"sutext\">Email</h3>\n            <input className=\"suinput\" id=\"su_email\" onKeyUp={handleEnter} type=\"text\"/>\n            <p id=\"emailError\"/>\n            </div>\n            <br/>\n            \n            <div className=\"surow\">\n                <h3 className=\"sutext\">Password</h3>\n                <input className=\"suinput\" id=\"su_password\" onKeyUp={handleEnter} type=\"password\"/>\n                <p id=\"passwordError\"/>\n            </div>\n            <br/>\n            <div className=\"surow\">\n                <h3 className=\"sutext\">Confirm Password</h3>\n                <input className=\"suinput\" id=\"su_passwordConfirm\" onKeyUp={handleEnter} type=\"password\"/>\n            </div>\n            <RenderSignUpButtons getLoginForm={props.getLoginForm} signUp={props.signUp}/>\n        </form> \n    )\n}\n\nfunction VerifyEmail() {\n    return (\n        <div className=\"verify\">\n            <img id=\"verifyIcon\" src={ require('./img/mail.png') } />\n            <h3 id=\"verifyMessage\">Please verify your email</h3>\n        </div> \n    )\n}\n\nfunction handleEnter(event) {\n    if (event.keyCode === 13) {\n        // Trigger the button element with a click\n        document.getElementsByClassName(\"sign-in-btn\")[0].click();\n    }\n}\n\nfunction RenderLoginButtons(props) {\n    return (\n        <div className='login-form-btns '>\n                <button className=\"sign-up-btn\" type=\"button\" onClick={props.getSignUpForm}>\n                    Sign Up\n                </button>\n                <button className=\"sign-in-btn\" onKeyUp={handleEnter} type=\"button\" onClick={props.logIn}>\n                    Next\n                </button>\n        </div>\n    );\n}\n\nfunction RenderSignUpButtons(props) {\n    return (\n        <div className='login-form-btns '>\n                <button className=\"sign-up-btn\" type=\"button\" onClick={props.getLoginForm}>\n                    Cancel\n                </button>\n                <button className=\"sign-in-btn\" onKeyUp={handleEnter} type=\"button\" onClick={props.signUp}>\n                    Sign Up\n                </button>\n        </div>\n    );\n}\n\n\nclass Login extends React.Component{\n    constructor(props) {\n        super(props)\n        this.state={hasError: false, \n        action: 'login'}; //possible values: login, signUp, verify\n    }\n    componentDidCatch(error, info) {\n        // Display fallback UI\n        this.setState({ hasError: true });\n        console.log(error, info);\n    }\n\n    componentDidMount() {\n        initializeReactGA();\n    }\n    getLoginForm() {\n        this.setState({action: 'login'});\n    }\n    getSignUpForm() {\n        this.setState({action: 'signUp'});\n    }\n    getVerify() {\n        this.setState({action: 'verify'});\n    }\n\n    logIn() {\n        var getVerify = this.getVerify.bind(this);\n        if (firebase.auth().currentUser) {\n          // [START signout]\n          firebase.auth().signOut();\n          // [END signout]\n        } else {\n            var email = document.getElementById('login_email').value;\n            var password = document.getElementById('login_password').value;\n            if (!validateLoginInput(email, password)) {\n                return;\n            }\n            // Sign in with email and pass.\n            firebase.auth().signInWithEmailAndPassword(email, password).catch(function(error) {\n                // Handle Errors here.\n                handleError(error.code, error.message);\n                console.log(error);\n            });\n    \n            firebase.auth().onAuthStateChanged(function(user) {\n                if (user) {\n                  if (!user.emailVerified) {\n                      getVerify();\n                  }\n                  \n                }\n            });\n        }\n        //document.getElementById('quickstart-sign-in').disabled = true;\n      }\n\n    signUp() {\n        var email = document.getElementById('su_email').value;\n        var password = document.getElementById('su_password').value;\n        var passwordConfirm = document.getElementById('su_passwordConfirm').value;\n        var firstName= document.getElementById('su_firstName').value;\n        var lastName= document.getElementById('su_lastName').value;\n        firstName = firstName[0].toUpperCase() + firstName.substring(1).toLowerCase();\n        lastName = lastName[0].toUpperCase() + lastName.substring(1).toLowerCase();\n        var uid = Helper.parseName(firstName+' '+lastName);\n        var getVerify = this.getVerify.bind(this);\n        var firebaseid = '';\n\n        if (!validateSignUpInput(email, password, passwordConfirm, firstName, lastName)) {\n            return;\n        }\n\n        //Sign up user \n        firebase.auth().createUserWithEmailAndPassword(email, password).then(function() {\n\n            firebase.auth().onAuthStateChanged(function(user) {\n                if (user) {\n                    \n                        \n                    if (!user.displayName) {\n                        user.updateProfile({\n                            displayName: firstName + \" \" + lastName,\n                        }).catch(function(error) {\n                            console.log(\"An error occurred while creating name. Please try again.\");\n                        });\n                    }\n                    if (!user.emailVerified) {\n                        user.sendEmailVerification();\n                        getVerify();\n                    }\n                    firebaseid = user.uid;\n                    console.log(user.uid)\n                }\n            });\n\n            firebase.firestore().collection(\"pilots\").doc(Helper.parseName(firstName+' '+lastName)).set({\n                team: 0, \n                role: 'N/A',\n                firstName: {firstName},\n                lastName: {lastName},\n                email: {email},\n                lastFlight: '2019-01-01',\n                approved: false,\n            })\n                .then(function() {\n                console.log(firstName + \" \" + lastName +\" successfully written!\");\n                })\n                .catch(function(error) {\n                console.error(\"Error writing \" + firstName + \" \" + lastName + \": \", error);\n            });\n\n\n            firebase.firestore().collection(\"users\").doc(firebaseid).set({\n                id: uid\n            }).catch(function(error) {\n                console.log(\"Error writing to users: \", error)\n            })\n\n        }).catch(function(error) {\n            // Handle Errors here.\n            handleError(error.code, error.message);\n            console.log(error.code, error);\n            if (error.code == \"auth/weak-password\") {setAlert('password', error.message)}\n            return;\n        });\n\n        \n    }\n\n    \n\n    render() {\n        if (this.state.hasError) {\n            return <ErrorPage/>\n        }\n        if (this.state.action == 'signUp') {\n            return <SignUpForm getLoginForm={this.getLoginForm.bind(this)} signUp={this.signUp.bind(this)}/>\n        }\n        else if (this.state.action == 'verify') {\n            return <VerifyEmail/>\n        }\n        else {\n            return (\n                <LoginForm getSignUpForm={this.getSignUpForm.bind(this)} logIn={this.logIn.bind(this)}/>\n            )\n        }\n    }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}