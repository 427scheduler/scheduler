{"ast":null,"code":"var _jsxFileName = \"/Users/jenny/Documents/GitHub/scheduler/src/Personnel.js\";\nimport Login from \"./Login\";\nimport React from 'react';\nimport ReactGA from 'react-ga';\nimport firebase from \"./Firebase.js\";\nimport ErrorPage from './ErrorPage.js';\nimport './Personnel.css';\nimport Helper from './Helper.js';\nimport Const from './Const.js';\nimport DELETE from './img/delete.png';\nimport DELETE_HOVER from './img/delete-hover.png';\n\nfunction initializeReactGA() {\n  ReactGA.initialize('UA-168152066-1');\n  ReactGA.pageview('/Personnel');\n}\n\nfunction PersonnelInfo(props) {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"personnelInfo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, React.createElement(RenderInfo, {\n    user: props.user,\n    team: props.team,\n    name: props.name,\n    teamNum: props.teamNum,\n    lastFlight: props.lastFlight,\n    role: props.role,\n    email: props.email,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  })), React.createElement(RenderLogoutBtn, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }), React.createElement(Approvals, {\n    role: props.role,\n    approvals: props.approvals,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }));\n}\n\nfunction RenderInfo(props) {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"myInfo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"infoField\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, \"UserID\"), React.createElement(\"input\", {\n    className: \"pinput\",\n    id: \"userid\",\n    defaultValue: props.user,\n    type: \"text\",\n    readOnly: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"infoField\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"input\", {\n    className: \"pinput\",\n    id: \"name\",\n    defaultValue: props.name,\n    type: \"text\",\n    readOnly: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"infoField\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Last Flight\"), React.createElement(\"input\", {\n    className: \"pinput\",\n    id: \"lastFlight\",\n    defaultValue: props.lastFlight,\n    type: \"date\",\n    readOnly: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"infoField\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Role\"), React.createElement(\"input\", {\n    className: \"pinput\",\n    id: \"role\",\n    list: \"rolelist\",\n    defaultValue: props.role,\n    type: \"text\",\n    readOnly: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"infoField\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Email\"), React.createElement(\"input\", {\n    className: \"pinput\",\n    id: \"useremail\",\n    defaultValue: props.email,\n    type: \"text\",\n    readOnly: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"infoField\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Team Number\"), React.createElement(\"input\", {\n    className: \"pinput\",\n    id: \"teamNum\",\n    defaultValue: props.teamNum,\n    type: \"text\",\n    onBlur: e => {\n      changeTeam(e, props.user, props.teamNum);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"teamInfo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(TeamInfo, {\n    team: props.team,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  })));\n}\n\nfunction TeamInfo(props) {\n  var team = [];\n\n  if (props.team) {\n    props.team.forEach(member => {\n      team.push(React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, Helper.parseID(member)));\n    });\n  }\n\n  return React.createElement(\"table\", {\n    className: \"teamTable\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"Team Members\")), team);\n}\n\nfunction setRole(e, pilot, oldrole) {\n  if (e.target.value == '') {\n    e.target.value = oldrole;\n  } else {\n    firebase.firestore().collection(\"pilots\").doc(pilot).update({\n      role: e.target.value\n    });\n  }\n}\n\nfunction Approvals(props) {\n  var approvedtable = [];\n  var notapprovedtable = [];\n  console.log(props);\n\n  if (props.role.toLowerCase() == 'admin' || props.role.toLowerCase() == '427 admin') {\n    props.approvals.forEach(pilot => {\n      var name = pilot.firstName + ' ' + pilot.lastName;\n      var email = pilot.email != null ? pilot.email : '';\n      var nameField = ['admin', '427 admin'].includes(pilot.role.toLowerCase()) ? React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(RenderAdminTag, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }), name) : React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, name);\n\n      if (pilot.role.toLowerCase() == '427 admin') {\n        approvedtable.push(React.createElement(\"tr\", {\n          id: pilot.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, nameField, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, email), React.createElement(\"td\", {\n          id: \"team\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, pilot.team), React.createElement(\"td\", {\n          id: \"role\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, pilot.role), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        })));\n      } else {\n        if (pilot.approved) {\n          approvedtable.push(React.createElement(\"tr\", {\n            id: pilot.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 115\n            },\n            __self: this\n          }, nameField, React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 117\n            },\n            __self: this\n          }, email), React.createElement(\"td\", {\n            id: \"team\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 118\n            },\n            __self: this\n          }, pilot.team), React.createElement(\"td\", {\n            id: \"approvalsrole\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 119\n            },\n            __self: this\n          }, React.createElement(\"input\", {\n            id: \"approvalsrole\",\n            list: \"rolelist\",\n            defaultValue: pilot.role,\n            type: \"text\",\n            onBlur: e => {\n              setRole(e, pilot.id, pilot.role);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 119\n            },\n            __self: this\n          })), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 121\n            },\n            __self: this\n          }, React.createElement(RenderApprovedBtn, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 121\n            },\n            __self: this\n          })), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 122\n            },\n            __self: this\n          }, React.createElement(RenderDeleteBtn, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 122\n            },\n            __self: this\n          }))));\n        } else {\n          notapprovedtable.push(React.createElement(\"tr\", {\n            id: pilot.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 125\n            },\n            __self: this\n          }, React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 126\n            },\n            __self: this\n          }, name), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 127\n            },\n            __self: this\n          }, email), React.createElement(\"td\", {\n            id: \"team\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 128\n            },\n            __self: this\n          }, pilot.team), React.createElement(\"td\", {\n            id: \"approvalsrole\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 129\n            },\n            __self: this\n          }, React.createElement(\"input\", {\n            id: \"approvalsrole\",\n            list: \"rolelistnoadmin\",\n            defaultValue: pilot.role,\n            type: \"text\",\n            onBlur: e => {\n              setRole(e, pilot.id, pilot.role);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 129\n            },\n            __self: this\n          })), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131\n            },\n            __self: this\n          }, React.createElement(RenderApproveBtn, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131\n            },\n            __self: this\n          })), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 132\n            },\n            __self: this\n          }, React.createElement(RenderDeleteBtn, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 132\n            },\n            __self: this\n          }))));\n        }\n      }\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"approval-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Approvals\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"This is only visible to admins\")), React.createElement(\"table\", {\n      className: \"approvalsTable\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, Helper.getOptionsList('rolelist', Const.rolelist), Helper.getOptionsList('rolelistnoadmin', Const.rolelistnoadmin), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"Email\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Team\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"Role\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"Approve\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \" \")), notapprovedtable, approvedtable));\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  });\n}\n\nfunction changeTeam(e, pilot, oldVal) {\n  var newTeam = e.target.value;\n\n  if (isNaN(newTeam)) {\n    //Invalid input, ignore\n    newTeam = oldVal;\n    return;\n  } else {\n    firebase.firestore().collection(\"pilots\").doc(pilot).update({\n      team: e.target.value\n    });\n    firebase.firestore().collection(\"pilots\").doc(oldVal).update({\n      pilots: firebase.firestore.FieldValue.arrayRemove(pilot)\n    });\n    firebase.firestore().collection(\"pilots\").doc(newTeam.toString()).get().then(snapshotQuery => {\n      if (snapshotQuery.exists) {\n        firebase.firestore().collection(\"pilots\").doc(newTeam.toString()).update({\n          pilots: firebase.firestore.FieldValue.arrayUnion(pilot)\n        });\n      } else {\n        firebase.firestore().collection(\"pilots\").doc(newTeam.toString()).set({\n          pilots: [pilot]\n        });\n      }\n    });\n  }\n}\n\nfunction RenderApproveBtn() {\n  return React.createElement(\"div\", {\n    className: \"approve-btn-div \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"approve-btn\",\n    type: \"button\",\n    onClick: e => {\n      e.target.className += ' approved';\n      e.target.innerHTML = 'Approved';\n      var pilot = e.target.parentElement.parentElement.parentElement.id;\n      firebase.firestore().collection(\"pilots\").doc(pilot).update({\n        approved: true\n      }).then(function (docRef) {\n        console.log(\"Successfully Approved!\");\n      }).catch(function (error) {\n        console.error(\"Error making approval: \", error);\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, \"Approve\"));\n}\n\nfunction RenderApprovedBtn() {\n  return React.createElement(\"div\", {\n    className: \"approved-btn-div \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"approved\",\n    type: \"button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212\n    },\n    __self: this\n  }, \"Approved\"));\n}\n\nfunction RenderAdminTag() {\n  return React.createElement(\"button\", {\n    className: \"admin-tag\",\n    type: \"button\",\n    disabled: \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }, \"ADMIN\");\n}\n\nfunction RenderLogoutBtn() {\n  return React.createElement(\"div\", {\n    className: \"logout-btn-div \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"logout-btn\",\n    type: \"button\",\n    onClick: logOut,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230\n    },\n    __self: this\n  }, \"Log Out\"));\n}\n\nfunction RenderDeleteBtn() {\n  return React.createElement(\"img\", {\n    alt: \"delete\",\n    className: \"delete\",\n    src: DELETE,\n    title: \"Delete\",\n    onClick: e => {\n      var row = e.target.parentElement.parentElement;\n      var pilot = row.id;\n      var team = row.cells['team'].innerHTML.toString();\n      var role = row.cells['role'].innerHTML;\n\n      if (role == 'admin') {\n        window.confirm(\"You cannot delete an admin\");\n        return;\n      }\n\n      if (window.confirm(\"Are you sure you want to delete this user?\")) {\n        //DELETING FROM TEAM \n        firebase.firestore().collection(\"pilots\").doc(team).update({\n          \"pilots\": firebase.firestore.FieldValue.arrayRemove(pilot)\n        }).then(function () {\n          console.log(\"Successfully deleted!\");\n        }).catch(function (error) {\n          console.error(\"Error deleting pilot: \", error);\n        }); //DELETING THE USER \n\n        firebase.firestore().collection(\"pilots\").doc(pilot).delete().then(function () {\n          console.log(\"Successfully deleted!\");\n          window.location.reload();\n        }).catch(function (error) {\n          console.error(\"Error deleting pilot: \", error);\n        });\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239\n    },\n    __self: this\n  });\n}\n\nfunction logOut() {\n  if (!window.confirm(\"Are you sure you want to log out?\")) {\n    return;\n  }\n\n  return React.createElement(Login, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279\n    },\n    __self: this\n  });\n}\n\nclass Personnel extends React.Component {\n  constructor(props) {\n    super(props);\n    /* name */\n\n    this.state = {\n      userID: '',\n      team: [],\n      teamNum: null,\n      lastFlight: null,\n      email: '',\n      hasError: false,\n      approvals: [],\n      role: ''\n    };\n  }\n\n  componentDidCatch(error, info) {\n    // Display fallback UI\n    this.setState({\n      hasError: true\n    });\n    console.log(error, info);\n  }\n\n  componentDidMount() {\n    initializeReactGA();\n    this.getTeamMembers();\n    var id = Helper.parseName(this.props.name);\n    this.setState({\n      userID: id\n    });\n    this.getApprovals();\n  }\n\n  getApprovals() {\n    firebase.firestore().collection(\"pilots\").get().then(querySnapshot => {\n      var approvals = [];\n      querySnapshot.forEach(pilot => {\n        if (pilot.data() && pilot.data().firstName) {\n          approvals.push({\n            id: pilot.id,\n            firstName: pilot.data().firstName,\n            lastName: pilot.data().lastName,\n            email: pilot.data().email,\n            role: pilot.data().role,\n            team: pilot.data().team,\n            approved: pilot.data().approved\n          });\n        }\n      });\n      this.setState({\n        approvals: approvals\n      });\n      console.log(approvals);\n    }).catch(function (error) {\n      console.log(\"This user doesn't exist: \", error);\n    });\n  }\n\n  getTeamMembers() {\n    var user = Helper.parseName(this.props.name);\n    firebase.firestore().collection(\"pilots\").doc(user).get().then(querySnapshot => {\n      if (!querySnapshot.empty) {\n        var lastFlight = querySnapshot.data().lastFlight;\n        var email = querySnapshot.data().email;\n        var num = querySnapshot.data().team;\n        var role = querySnapshot.data().role;\n        this.setState({\n          teamNum: num,\n          lastFlight: lastFlight,\n          email: email,\n          role: role\n        });\n        firebase.firestore().collection(\"pilots\").doc(num.toString()).get().then(querySnapshot => {\n          if (!querySnapshot.empty && querySnapshot.data()) {\n            this.setState({\n              team: querySnapshot.data().pilots\n            });\n          } else {\n            console.log(\"Document doesn't exist\");\n            this.setState({\n              team: null\n            });\n          }\n\n          ;\n        });\n      } else {\n        console.log(\"Document doesn't exist\");\n        this.setState({\n          team: null\n        });\n      }\n\n      ;\n    }).catch(function (error) {\n      console.log(\"This user doesn't exist: \", error);\n    });\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return React.createElement(ErrorPage, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(PersonnelInfo, {\n      user: this.state.userID,\n      name: this.props.name,\n      role: this.state.role,\n      team: this.state.team,\n      teamNum: this.state.teamNum,\n      lastFlight: this.state.lastFlight,\n      email: this.state.email,\n      approvals: this.state.approvals,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default Personnel;","map":{"version":3,"sources":["/Users/jenny/Documents/GitHub/scheduler/src/Personnel.js"],"names":["Login","React","ReactGA","firebase","ErrorPage","Helper","Const","DELETE","DELETE_HOVER","initializeReactGA","initialize","pageview","PersonnelInfo","props","user","team","name","teamNum","lastFlight","role","email","approvals","RenderInfo","e","changeTeam","TeamInfo","forEach","member","push","parseID","setRole","pilot","oldrole","target","value","firestore","collection","doc","update","Approvals","approvedtable","notapprovedtable","console","log","toLowerCase","firstName","lastName","nameField","includes","id","approved","getOptionsList","rolelist","rolelistnoadmin","oldVal","newTeam","isNaN","pilots","FieldValue","arrayRemove","toString","get","then","snapshotQuery","exists","arrayUnion","set","RenderApproveBtn","className","innerHTML","parentElement","docRef","catch","error","RenderApprovedBtn","RenderAdminTag","RenderLogoutBtn","logOut","RenderDeleteBtn","row","cells","window","confirm","delete","location","reload","Personnel","Component","constructor","state","userID","hasError","componentDidCatch","info","setState","componentDidMount","getTeamMembers","parseName","getApprovals","querySnapshot","data","empty","num","render"],"mappings":"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","sourcesContent":["import Login from \"./Login\";\nimport React from 'react';\nimport ReactGA from 'react-ga';\nimport firebase from \"./Firebase.js\";\nimport ErrorPage from './ErrorPage.js';\nimport './Personnel.css';\nimport Helper from './Helper.js';\nimport Const from './Const.js';\nimport DELETE from './img/delete.png';\nimport DELETE_HOVER from './img/delete-hover.png';\n\n\nfunction initializeReactGA() {\n    ReactGA.initialize('UA-168152066-1');\n    ReactGA.pageview('/Personnel');\n}\n\nfunction PersonnelInfo(props) {\n    return (\n        <div>\n            <div className=\"personnelInfo\">\n                <RenderInfo user={props.user} team={props.team} name={props.name} teamNum={props.teamNum} lastFlight={props.lastFlight} role={props.role} email={props.email}/>\n            </div>\n            <RenderLogoutBtn/>\n            <Approvals role={props.role} approvals={props.approvals}/>\n        </div>\n    )\n}\n\nfunction RenderInfo(props) {\n    return (\n        <div>\n            <div className=\"myInfo\">\n                <div className=\"infoField\">\n                    <h5>UserID</h5>\n                    <input className='pinput' id=\"userid\" defaultValue={props.user} type=\"text\" readOnly/>\n                </div>\n                <div className=\"infoField\">\n                    <h5>Name</h5>\n                    <input className='pinput' id=\"name\" defaultValue={props.name} type=\"text\"readOnly/>\n                </div>\n                <div className=\"infoField\">\n                    <h5>Last Flight</h5>\n                    <input className='pinput' id=\"lastFlight\" defaultValue={props.lastFlight} type=\"date\" readOnly/>\n                </div>\n                <div className=\"infoField\">\n                    <h5>Role</h5>\n                    <input className='pinput' id=\"role\" list='rolelist' defaultValue={props.role} type=\"text\" readOnly/>\n                </div>\n                <div className=\"infoField\">\n                    <h5>Email</h5>\n                    <input className='pinput' id=\"useremail\" defaultValue={props.email} type=\"text\" readOnly/>\n                </div>\n                <div className=\"infoField\">\n                    <h5>Team Number</h5>\n                    <input className='pinput' id=\"teamNum\" defaultValue={props.teamNum} type=\"text\" onBlur={(e)=>{changeTeam(e,props.user, props.teamNum)}}/>\n                </div>\n            </div>\n            <div className=\"teamInfo\">\n                <TeamInfo team={props.team}/>\n            </div>\n        </div>\n    )\n}\n\nfunction TeamInfo(props) {\n    var team = [];\n\n    if (props.team) {\n        props.team.forEach((member) => {\n            team.push(<tr>{Helper.parseID(member)}</tr>)\n        }) \n    }\n\n    return (\n        <table className=\"teamTable\">\n            <tr><th>Team Members</th></tr>\n            {team}\n        </table>\n    )\n}\n\nfunction setRole(e, pilot, oldrole) {\n    if (e.target.value == '') {\n        e.target.value = oldrole\n    }\n    else {\n        firebase.firestore().collection(\"pilots\").doc(pilot).update({role: e.target.value});\n    }\n}\n\nfunction Approvals(props) {\n    var approvedtable = [];\n    var notapprovedtable = [];\n\n    console.log(props);\n    if (props.role.toLowerCase() == 'admin' || props.role.toLowerCase() == '427 admin') {\n\n        props.approvals.forEach((pilot)=> {\n            var name = pilot.firstName + ' ' + pilot.lastName;\n            var email = pilot.email != null ? pilot.email : '';\n            var nameField = ['admin', '427 admin'].includes(pilot.role.toLowerCase()) ? (<td><RenderAdminTag/>{name}</td>) : <td>{name}</td>;\n\n            if (pilot.role.toLowerCase() == '427 admin') {\n                approvedtable.push(<tr id={pilot.id}>\n                    {nameField} \n                    <td>{email}</td>\n                    <td id='team'>{pilot.team}</td>\n                    <td id='role'>{pilot.role}</td>\n                    <td></td>\n                    <td></td></tr>)\n            }\n            else {\n                if (pilot.approved) {\n                approvedtable.push(<tr id={pilot.id}>\n                    {nameField} \n                    <td>{email}</td>\n                    <td id='team'>{pilot.team}</td>\n                    <td id='approvalsrole'><input id='approvalsrole' list='rolelist' defaultValue={pilot.role} type=\"text\"\n                    onBlur={(e)=>{setRole(e, pilot.id, pilot.role)}}/></td>\n                    <td><RenderApprovedBtn/></td>\n                    <td><RenderDeleteBtn/></td></tr>)\n                }\n                else {\n                    notapprovedtable.push(<tr id={pilot.id}>\n                        <td>{name}</td>\n                        <td>{email}</td>\n                        <td id='team'>{pilot.team}</td>\n                        <td id='approvalsrole'><input id='approvalsrole' list='rolelistnoadmin' defaultValue={pilot.role} type=\"text\" \n                        onBlur={(e)=>{setRole(e, pilot.id, pilot.role)}}/></td>\n                        <td><RenderApproveBtn/></td>\n                        <td><RenderDeleteBtn/></td></tr>)\n                }\n            }\n        })\n        \n            return (\n                <div>\n                <div id='approval-header'>\n                    <h2>Approvals</h2>\n                    <p>This is only visible to admins</p>\n                </div>\n                <table className=\"approvalsTable\">\n                {Helper.getOptionsList('rolelist', Const.rolelist)}\n                {Helper.getOptionsList('rolelistnoadmin', Const.rolelistnoadmin)}\n                <tr>\n                    <th>Name</th>\n                    <th>Email</th>\n                    <th>Team</th>\n                    <th>Role</th>\n                    <th>Approve</th>\n                    <th> </th>\n                </tr>\n                {notapprovedtable}\n                {approvedtable}\n                </table>\n                </div>\n            )\n    }\n\n    return <div></div>;\n}\n\nfunction changeTeam(e, pilot, oldVal) {\n    var newTeam = e.target.value;\n    if (isNaN(newTeam)) {\n        //Invalid input, ignore\n        newTeam = oldVal;\n        return;\n    }\n    else {\n        firebase.firestore().collection(\"pilots\").doc(pilot).update({team: e.target.value});\n        firebase.firestore().collection(\"pilots\").doc(oldVal).update({pilots: firebase.firestore.FieldValue.arrayRemove(pilot)});\n       \n        firebase.firestore().collection(\"pilots\").doc(newTeam.toString()).get().then((snapshotQuery)=> {\n            if (snapshotQuery.exists) {\n                firebase.firestore().collection(\"pilots\").doc(newTeam.toString()).update({pilots: firebase.firestore.FieldValue.arrayUnion(pilot)});\n            }\n            else {\n                firebase.firestore().collection(\"pilots\").doc(newTeam.toString()).set({pilots: [pilot]});\n            }\n        })\n    }\n}\n\nfunction RenderApproveBtn() {\n    return (\n        <div className='approve-btn-div '>\n                <button className=\"approve-btn\" type=\"button\" onClick={((e) => {\n                    e.target.className += ' approved';\n                    e.target.innerHTML = 'Approved';\n                    var pilot = e.target.parentElement.parentElement.parentElement.id;\n\n                    firebase.firestore().collection(\"pilots\").doc(pilot).update({\n                        approved: true,\n                    })\n                        .then(function(docRef) {\n                        console.log(\"Successfully Approved!\");\n                        })\n                        .catch(function(error) {\n                        console.error(\"Error making approval: \", error);\n                    });\n                    })}>\n                    Approve\n                </button>\n        </div>\n    );\n}\nfunction RenderApprovedBtn() {\n    return (\n        <div className='approved-btn-div '>\n                <button className=\"approved\" type=\"button\">\n                    Approved\n                </button>\n        </div>\n    );\n}\n\nfunction RenderAdminTag() {\n    return (\n                <button className=\"admin-tag\" type=\"button\" disabled='true'>\n                    ADMIN\n                </button>\n    );\n}\n\nfunction RenderLogoutBtn() {\n    return (\n        <div className='logout-btn-div '>\n                <button className=\"logout-btn\" type=\"button\" onClick={logOut}>\n                    Log Out\n                </button>\n        </div>\n    );\n}\n\nfunction RenderDeleteBtn() {\n    return (\n        <img alt=\"delete\" className=\"delete\" src={DELETE} title='Delete' onClick={(e)=>{\n            var row = e.target.parentElement.parentElement\n            var pilot = row.id;\n            var team = row.cells['team'].innerHTML.toString();\n            var role = row.cells['role'].innerHTML;\n            if (role == 'admin') {\n                window.confirm(\"You cannot delete an admin\");\n                return;\n            }\n\n            if (window.confirm(\"Are you sure you want to delete this user?\")) {\n                //DELETING FROM TEAM \n                firebase.firestore().collection(\"pilots\").doc(team).update({\n                    \"pilots\":firebase.firestore.FieldValue.arrayRemove(pilot)\n                })\n                    .then(function() {\n                    console.log(\"Successfully deleted!\");\n                    })\n                    .catch(function(error) {\n                    console.error(\"Error deleting pilot: \", error);\n                });\n                \n                //DELETING THE USER \n                firebase.firestore().collection(\"pilots\").doc(pilot).delete()\n                    .then(function() {\n                    console.log(\"Successfully deleted!\");\n                    window.location.reload();\n                    })\n                    .catch(function(error) {\n                    console.error(\"Error deleting pilot: \", error);\n                });\n            } \n        }} />\n    );\n}\n\nfunction logOut() {\n    if (!window.confirm(\"Are you sure you want to log out?\")) {\n        return;\n      } \n    return <Login/>\n}\n\n\nclass Personnel extends React.Component{\n    constructor(props) {\n        super(props)\n        /* name */\n        this.state={\n            userID: '',\n            team: [],\n            teamNum: null,\n            lastFlight: null,\n            email: '',\n            hasError: false,\n            approvals: [],\n            role: '',\n        };\n    }\n    componentDidCatch(error, info) {\n        // Display fallback UI\n        this.setState({ hasError: true });\n        console.log(error, info);\n    }\n\n    componentDidMount() {\n        initializeReactGA();\n        this.getTeamMembers();\n        var id = Helper.parseName(this.props.name);\n        this.setState({userID: id});\n        this.getApprovals();\n    }\n\n    getApprovals() {\n        firebase.firestore().collection(\"pilots\")\n        .get()\n        .then((querySnapshot) => {\n            var approvals = []\n            querySnapshot.forEach((pilot)=> {\n                if (pilot.data() && pilot.data().firstName) {\n                    approvals.push({\n                        id: pilot.id,\n                        firstName: pilot.data().firstName, \n                                lastName: pilot.data().lastName, \n                                email: pilot.data().email, \n                                role: pilot.data().role, \n                                team: pilot.data().team,\n                                approved: pilot.data().approved})\n                }\n            })\n            this.setState({approvals: approvals});\n            console.log(approvals);\n        })\n        .catch(function(error) {\n            console.log(\"This user doesn't exist: \", error);\n        });\n    }\n\n    getTeamMembers() {\n        var user = Helper.parseName(this.props.name);\n        firebase.firestore().collection(\"pilots\").doc(user)\n        .get()\n        .then((querySnapshot) => {\n            if (!querySnapshot.empty) {\n                var lastFlight = querySnapshot.data().lastFlight;\n                var email = querySnapshot.data().email;\n                var num = querySnapshot.data().team;\n                var role = querySnapshot.data().role;\n                this.setState({teamNum: num, lastFlight: lastFlight, email: email, role: role});\n                firebase.firestore().collection(\"pilots\").doc(num.toString())\n                .get()\n                .then((querySnapshot) => {\n                    if (!querySnapshot.empty && querySnapshot.data()) {\n                        this.setState({team: querySnapshot.data().pilots});\n                    }\n                    else {\n                        console.log(\"Document doesn't exist\");\n                        this.setState({team: null});\n                    };\n                });  \n            }\n            else {\n                console.log(\"Document doesn't exist\");\n                this.setState({team: null});\n            };\n        })\n        .catch(function(error) {\n            console.log(\"This user doesn't exist: \", error);\n        });\n    }\n\n    render() {\n        if (this.state.hasError) {\n            return <ErrorPage/>\n        }\n        return (\n            <PersonnelInfo user={this.state.userID} name={this.props.name} role={this.state.role} team={this.state.team} teamNum={this.state.teamNum} \n                            lastFlight={this.state.lastFlight}\n                            email={this.state.email} approvals={this.state.approvals}/>\n        )\n    }\n}\n\nexport default Personnel;"]},"metadata":{},"sourceType":"module"}