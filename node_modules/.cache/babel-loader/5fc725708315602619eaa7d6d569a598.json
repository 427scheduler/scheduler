{"ast":null,"code":"import firebase from \"./Firebase.js\";\nimport { randomBytes } from \"crypto\"; // Add a new document in collection \"dates\"\n\n/*for (var i = 1; i <= 3; i++) {\n    var date = '06-' + (i < 10 ? '0': '') + i + '-2019';\nfirebase.firestore().collection(\"dates\").doc(date).set({\ntwilight: {civil: null, naut: null},\ndutymtp: null,\noic: null,\ngroundrun: null,\ndesksgt: {day: null, night: null},\nfdo: {day: null, night: null}\n})\n.then(()=> {\nconsole.log(\"Document successfully written!\");\n})\n.catch(function(error) {\nconsole.error(\"Error writing document: \", error);\n});}*/\n\nfunction getRandom(x, y) {\n  var min = Math.ceil(x);\n  var max = Math.floor(y);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nfunction updateData() {\n  /*** \n  firebase.firestore().collection(\"pilots\").doc('aearhart').set({\n  team: 1, \n  role: 'aviator',\n  lastFlight: '01-01-2019',\n  })\n  .then(function(docRef) {\n  console.log(\"Document successfully written!\", docRef.id);\n  })\n  .catch(function(error) {\n  console.error(\"Error writing document: \", error);\n  });\n  firebase.firestore().collection(\"pilots\").doc('clindbergh').set({\n  team: 1, \n  role: 'aviator',\n  lastFlight: '01-01-2019',\n  })\n  .then(function(docRef) {\n  console.log(\"Document successfully written!\", docRef.id);\n  })\n  .catch(function(error) {\n  console.error(\"Error writing document: \", error);\n  });\n  firebase.firestore().collection(\"pilots\").doc('pmitchell').set({\n  team: 1, \n  displayName: 'Pete Mitchell',\n  role: 'ace',\n  lastFlight: '01-01-2019',\n  })\n  .then(function(docRef) {\n  console.log(\"Document successfully written!\", docRef.id);\n  })\n  .catch(function(error) {\n  console.error(\"Error writing document: \", error);\n  });\n  firebase.firestore().collection(\"pilots\").doc('jdoolittle').set({\n  team: 1, \n  displayName: 'Jimmy Doolittle',\n  role: 'aviator',\n  lastFlight: '01-01-2019',\n  })\n  .then(function(docRef) {\n  console.log(\"Document successfully written!\", docRef.id);\n  })\n  .catch(function(error) {\n  console.error(\"Error writing document: \", error);\n  });\n  firebase.firestore().collection(\"pilots\").doc('cyeager').set({\n  team: 2, \n  displayName: 'Chuck Yeager',\n  role: 'test pilot',\n  lastFlight: '01-01-2019',\n  })\n  .then(function(docRef) {\n  console.log(\"Document successfully written!\", docRef.id);\n  })\n  .catch(function(error) {\n  console.error(\"Error writing document: \", error);\n  });\n  firebase.firestore().collection(\"pilots\").doc('owright').set({\n  team: 1, \n  displayName: 'Orvill Wright',\n  role: 'test pilot',\n  lastFlight: '01-01-2019',\n  })\n  .then(function(docRef) {\n  console.log(\"Document successfully written!\", docRef.id);\n  })\n  .catch(function(error) {\n  console.error(\"Error writing document: \", error);\n  });\n  firebase.firestore().collection(\"pilots\").doc('ehartmann').set({\n  team: 2,\n  displayName: 'Erich Hartmann',\n  role: 'ace',\n  lastFlight: '01-01-2019',\n  })\n  .then(function(docRef) {\n  console.log(\"Document successfully written!\", docRef.id);\n  })\n  .catch(function(error) {\n  console.error(\"Error writing document: \", error);\n  });\n  firebase.firestore().collection(\"pilots\").doc('wwright').set({\n  team: 2,\n  displayName: 'Wilbur Wright',\n  role: 'aviator',\n  lastFlight: '01-01-2019',\n  })\n  .then(function(docRef) {\n  console.log(\"Document successfully written!\", docRef.id);\n  })\n  .catch(function(error) {\n  console.error(\"Error writing document: \", error);\n  });*/\n\n  /** \n  \n  var ac = [472, 582, 479, 496, 428, 409]\n  var pilots = ['wwright', 'clindbergh', 'cyeager', 'aearhart', 'pmitchell', 'jdoolittle', 'ehartmann', 'owright'];\n  var config = ['NR FF', \"V FF\", \"DC6S\", \"DC0S\"];\n  var dco = ['ok','ok','ok','ok','ok','ok','warn', 'warn', 'bad'];\n  var details = ['SME', \"ALP2\"];\n  \n  for (var i  = 0; i < 10 ; i ++) {\n      var pilot = pilots[getRandom(0, 7)];\n      var fo = pilots[getRandom(0, 7)];\n      var date = \"2019-07-\" + getRandom(18, 30);\n      var acval = ac[getRandom(0, 5)];\n      var configval = config[getRandom(0, 3)];\n      var detail = details[getRandom(0, 1)];\n      var end=  parseInt(getRandom(0, 23) + getRandom(0, 5) +'0');\n      var start = parseInt(getRandom(Math.floor(end/100), 23) + getRandom(0, 5) +'0');\n  var newEvent = firebase.firestore().collection(\"events\").doc();\n  var newUpcomingEvent = firebase.firestore().collection('pilots').doc(pilot).collection('upcoming-events').doc();\n  \n  \n  \n  newUpcomingEvent.set({\n      ac: acval,\n      captain: pilot,\n      flightid: newEvent.id,\n      config: configval,\n      date: date,\n      fo: fo,\n      details: detail,\n      timeEnd: end,\n      timeStart: start,\n      })\n  .then(function(docRef) {\n      console.log(\"Document successfully written!\");})\n  .catch(function(error) {\n      console.error(\"Error writing document: \", error);\n  })\n  \n  newEvent.set({\n      ac: acval,\n      captain: pilot,\n      config: configval,\n      date: date,\n      dco: dco[getRandom(0, 8)],\n      details: detail,\n      fo: fo,\n      mission: \"427 AU H\"+ getRandom(1, 8) + getRandom(0,6) + \"3 G0\" + getRandom(0, 9),\n      pri: getRandom(1, 6),\n      remarks: getRandom(1,6) == 4 ? 'Academic Shoot' : '',\n      meal: getRandom(1,15) == 6 ? true : false,\n      timeEnd: end,\n      timeStart: start,\n      type: \"flight\",\n      })\n  .then(function(docRef) {\n      console.log(\"Document successfully written!\");})\n  .catch(function(error) {\n      console.error(\"Error writing document: \", error);\n  })\n  \n  \n  \n  }\n  */\n\n  /*\n  firebase.firestore().collection(\"pilots\").doc('aearhart').set({\n      ac: ac[getRandom(0, 5)],\n      captain: pilots[getRandom(0, 7)],\n      config: config[getRandom(0, 3)],\n      date: \"2019-07-\" + getRandom(18, 30),\n      dco: dco[getRandom(0, 8)],\n      details: details[getRandom(0, 1)],\n      fo: pilots[getRandom(0,7)],\n      mission: \"427 AU H\"+ getRandom(1, 8) + getRandom(0,6) + \"3 G0\" + getRandom(0, 9),\n      pri: getRandom(1, 6),\n      remarks: getRandom(1,6) == 4 ? 'Academic Shoot' : '',\n      meal: getRandom(1,15) == 6 ? true : false,\n      timeEnd: parseInt(getRandom(0, 23) + getRandom(0, 5) +'0'),\n      timeStart: parseInt(getRandom(0, 23) + getRandom(0, 5) +'0'),\n      type: \"flight\",\n      })\n  .then(function(docRef) {\n      console.log(\"Document successfully written!\");})\n  .catch(function(error) {\n      console.error(\"Error writing document: \", error);\n  })*/\n  var ac = [472, 582, 479, 496, 428, 409];\n  var pilots = ['wwright', 'clindbergh', 'cyeager', 'aearhart', 'pmitchell', 'jdoolittle', 'ehartmann', 'owright'];\n  var config = ['NR FF', \"V FF\", \"DC6S\", \"DC0S\"];\n  var dco = ['ok', 'ok', 'ok', 'ok', 'ok', 'ok', 'warn', 'warn', 'bad'];\n  var details = ['SME', \"ALP2\"];\n  this.state = {};\n\n  for (var i = 0; i < 10; i++) {\n    this.state.captain = pilots[getRandom(0, 7)];\n    this.state.fo = pilots[getRandom(0, 7)];\n    this.state.date = \"2019-07-\" + getRandom(18, 30);\n    this.state.ac = ac[getRandom(0, 5)];\n    this.state.config = config[getRandom(0, 3)];\n    this.state.detail = details[getRandom(0, 1)];\n    this.state.timeStart = parseInt(getRandom(0, 23) + getRandom(0, 5) + '0');\n    this.state.timeEnd = parseInt(getRandom(Math.floor(this.state.timeStart / 100), 23) + getRandom(0, 5) + '0');\n    var newEvent = firebase.firestore().collection(\"events\").doc();\n    var newUpcomingEvent = firebase.firestore().collection('pilots').doc(pilot).collection('upcoming-events').doc();\n    console.log(this.state);\n    var newEvent = firebase.firestore().collection(\"events\").doc();\n    newEvent.set(this.state).then(function () {\n      console.log(\"Event successfully added to events!\");\n    }).catch(function (error) {\n      console.error(\"Error adding event: \", error);\n    });\n    var updates = {};\n    updates['events.' + this.state.captain] = firebase.firestore.FieldValue.arrayUnion({\n      'type': 'flight',\n      'startTime': this.state.timeStart,\n      'endTime': this.state.timeEnd,\n      'id': newEvent.id\n    });\n    updates['events.' + this.state.fo] = firebase.firestore.FieldValue.arrayUnion({\n      'type': 'flight',\n      'startTime': this.state.timeStart,\n      'endTime': this.state.timeEnd,\n      'id': newEvent.id\n    });\n    var newUpcomingEvents = [firebase.firestore().collection('pilots').doc(this.state.captain).collection('upcoming-events').doc(), firebase.firestore().collection('pilots').doc(this.state.captain).collection('upcoming-events').doc()];\n\n    if (this.state.fe) {\n      updates['events.' + this.state.fo] = firebase.firestore.FieldValue.arrayUnion({\n        'type': 'flight',\n        'startTime': this.state.timeStart,\n        'endTime': this.state.timeEnd,\n        'id': newEvent.id\n      });\n      newUpcomingEvents.push(firebase.firestore().collection('pilots').doc(this.state.fe).collection('upcoming-events').doc());\n    }\n\n    if (this.state.crew) {\n      updates['events.' + this.state.fo] = firebase.firestore.FieldValue.arrayUnion({\n        'type': 'flight',\n        'startTime': this.state.timeStart,\n        'endTime': this.state.timeEnd,\n        'id': newEvent.id\n      });\n      newUpcomingEvents.push(firebase.firestore().collection('pilots').doc(this.state.crew).collection('upcoming-events').doc());\n    }\n\n    firebase.firestore().collection(\"dates\").doc(this.state.date).update(updates).then(function () {\n      console.log(\"Event successfully added to dates!\");\n    }).catch(function (error) {\n      console.error(\"Error writing document: \", error);\n    });\n    newUpcomingEvents.forEach(x => {\n      x.set({\n        ac: this.state.ac,\n        captain: this.state.captain,\n        flightid: newEvent.id,\n        config: this.state.config,\n        date: this.state.date,\n        fo: this.state.fo,\n        fe: this.state.fe,\n        crew: this.state.crew,\n        details: this.state.details,\n        timeEnd: this.state.timeEnd,\n        timeStart: this.state.timeStart\n      }).then(function () {\n        console.log(\"Event successfully added to pilots!\");\n      }).catch(function (error) {\n        console.error(\"Error writing document: \", error);\n      });\n    });\n  }\n}\n\nexport default updateData;","map":{"version":3,"sources":["/Users/jenny/Desktop/SOAS/scheduler/src/insertDataTest.js"],"names":["firebase","randomBytes","getRandom","x","y","min","Math","ceil","max","floor","random","updateData","ac","pilots","config","dco","details","state","i","captain","fo","date","detail","timeStart","parseInt","timeEnd","newEvent","firestore","collection","doc","newUpcomingEvent","pilot","console","log","set","then","catch","error","updates","FieldValue","arrayUnion","id","newUpcomingEvents","fe","push","crew","update","forEach","flightid"],"mappings":"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","sourcesContent":["import firebase from \"./Firebase.js\";\nimport { randomBytes } from \"crypto\";\n\n    // Add a new document in collection \"dates\"\n    /*for (var i = 1; i <= 3; i++) {\n        var date = '06-' + (i < 10 ? '0': '') + i + '-2019';\nfirebase.firestore().collection(\"dates\").doc(date).set({\n    twilight: {civil: null, naut: null},\n    dutymtp: null,\n    oic: null,\n    groundrun: null,\n    desksgt: {day: null, night: null},\n    fdo: {day: null, night: null}\n})\n.then(()=> {\n    console.log(\"Document successfully written!\");\n})\n.catch(function(error) {\n    console.error(\"Error writing document: \", error);\n});}*/\n\nfunction getRandom(x, y) {\n    var min = Math.ceil(x);\n    var max = Math.floor(y);\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\n\nfunction updateData() {\n    /*** \nfirebase.firestore().collection(\"pilots\").doc('aearhart').set({\n    team: 1, \n    role: 'aviator',\n    lastFlight: '01-01-2019',\n})\n    .then(function(docRef) {\n    console.log(\"Document successfully written!\", docRef.id);\n    })\n    .catch(function(error) {\n    console.error(\"Error writing document: \", error);\n});\nfirebase.firestore().collection(\"pilots\").doc('clindbergh').set({\n    team: 1, \n    role: 'aviator',\n    lastFlight: '01-01-2019',\n    })\n    .then(function(docRef) {\n    console.log(\"Document successfully written!\", docRef.id);\n    })\n    .catch(function(error) {\n    console.error(\"Error writing document: \", error);\n});\nfirebase.firestore().collection(\"pilots\").doc('pmitchell').set({\n    team: 1, \n    displayName: 'Pete Mitchell',\n    role: 'ace',\n    lastFlight: '01-01-2019',\n    })\n    .then(function(docRef) {\n    console.log(\"Document successfully written!\", docRef.id);\n    })\n    .catch(function(error) {\n    console.error(\"Error writing document: \", error);\n});\n\nfirebase.firestore().collection(\"pilots\").doc('jdoolittle').set({\n    team: 1, \n    displayName: 'Jimmy Doolittle',\n    role: 'aviator',\n    lastFlight: '01-01-2019',\n    })\n    .then(function(docRef) {\n    console.log(\"Document successfully written!\", docRef.id);\n    })\n    .catch(function(error) {\n    console.error(\"Error writing document: \", error);\n});\nfirebase.firestore().collection(\"pilots\").doc('cyeager').set({\n    team: 2, \n    displayName: 'Chuck Yeager',\n    role: 'test pilot',\n    lastFlight: '01-01-2019',\n    })\n    .then(function(docRef) {\n    console.log(\"Document successfully written!\", docRef.id);\n    })\n    .catch(function(error) {\n    console.error(\"Error writing document: \", error);\n});\nfirebase.firestore().collection(\"pilots\").doc('owright').set({\n    team: 1, \n    displayName: 'Orvill Wright',\n    role: 'test pilot',\n    lastFlight: '01-01-2019',\n    })\n    .then(function(docRef) {\n    console.log(\"Document successfully written!\", docRef.id);\n    })\n    .catch(function(error) {\n    console.error(\"Error writing document: \", error);\n});\nfirebase.firestore().collection(\"pilots\").doc('ehartmann').set({\n    team: 2,\n    displayName: 'Erich Hartmann',\n    role: 'ace',\n    lastFlight: '01-01-2019',\n    })\n    .then(function(docRef) {\n    console.log(\"Document successfully written!\", docRef.id);\n    })\n    .catch(function(error) {\n    console.error(\"Error writing document: \", error);\n});\nfirebase.firestore().collection(\"pilots\").doc('wwright').set({\n    team: 2,\n    displayName: 'Wilbur Wright',\n    role: 'aviator',\n    lastFlight: '01-01-2019',\n    })\n    .then(function(docRef) {\n    console.log(\"Document successfully written!\", docRef.id);\n    })\n    .catch(function(error) {\n    console.error(\"Error writing document: \", error);\n});*/\n\n\n/** \n\nvar ac = [472, 582, 479, 496, 428, 409]\nvar pilots = ['wwright', 'clindbergh', 'cyeager', 'aearhart', 'pmitchell', 'jdoolittle', 'ehartmann', 'owright'];\nvar config = ['NR FF', \"V FF\", \"DC6S\", \"DC0S\"];\nvar dco = ['ok','ok','ok','ok','ok','ok','warn', 'warn', 'bad'];\nvar details = ['SME', \"ALP2\"];\n\nfor (var i  = 0; i < 10 ; i ++) {\n    var pilot = pilots[getRandom(0, 7)];\n    var fo = pilots[getRandom(0, 7)];\n    var date = \"2019-07-\" + getRandom(18, 30);\n    var acval = ac[getRandom(0, 5)];\n    var configval = config[getRandom(0, 3)];\n    var detail = details[getRandom(0, 1)];\n    var end=  parseInt(getRandom(0, 23) + getRandom(0, 5) +'0');\n    var start = parseInt(getRandom(Math.floor(end/100), 23) + getRandom(0, 5) +'0');\nvar newEvent = firebase.firestore().collection(\"events\").doc();\nvar newUpcomingEvent = firebase.firestore().collection('pilots').doc(pilot).collection('upcoming-events').doc();\n\n\n\nnewUpcomingEvent.set({\n    ac: acval,\n    captain: pilot,\n    flightid: newEvent.id,\n    config: configval,\n    date: date,\n    fo: fo,\n    details: detail,\n    timeEnd: end,\n    timeStart: start,\n    })\n.then(function(docRef) {\n    console.log(\"Document successfully written!\");})\n.catch(function(error) {\n    console.error(\"Error writing document: \", error);\n})\n\nnewEvent.set({\n    ac: acval,\n    captain: pilot,\n    config: configval,\n    date: date,\n    dco: dco[getRandom(0, 8)],\n    details: detail,\n    fo: fo,\n    mission: \"427 AU H\"+ getRandom(1, 8) + getRandom(0,6) + \"3 G0\" + getRandom(0, 9),\n    pri: getRandom(1, 6),\n    remarks: getRandom(1,6) == 4 ? 'Academic Shoot' : '',\n    meal: getRandom(1,15) == 6 ? true : false,\n    timeEnd: end,\n    timeStart: start,\n    type: \"flight\",\n    })\n.then(function(docRef) {\n    console.log(\"Document successfully written!\");})\n.catch(function(error) {\n    console.error(\"Error writing document: \", error);\n})\n\n\n\n}\n*/\n\n\n/*\nfirebase.firestore().collection(\"pilots\").doc('aearhart').set({\n    ac: ac[getRandom(0, 5)],\n    captain: pilots[getRandom(0, 7)],\n    config: config[getRandom(0, 3)],\n    date: \"2019-07-\" + getRandom(18, 30),\n    dco: dco[getRandom(0, 8)],\n    details: details[getRandom(0, 1)],\n    fo: pilots[getRandom(0,7)],\n    mission: \"427 AU H\"+ getRandom(1, 8) + getRandom(0,6) + \"3 G0\" + getRandom(0, 9),\n    pri: getRandom(1, 6),\n    remarks: getRandom(1,6) == 4 ? 'Academic Shoot' : '',\n    meal: getRandom(1,15) == 6 ? true : false,\n    timeEnd: parseInt(getRandom(0, 23) + getRandom(0, 5) +'0'),\n    timeStart: parseInt(getRandom(0, 23) + getRandom(0, 5) +'0'),\n    type: \"flight\",\n    })\n.then(function(docRef) {\n    console.log(\"Document successfully written!\");})\n.catch(function(error) {\n    console.error(\"Error writing document: \", error);\n})*/\n\n\nvar ac = [472, 582, 479, 496, 428, 409]\nvar pilots = ['wwright', 'clindbergh', 'cyeager', 'aearhart', 'pmitchell', 'jdoolittle', 'ehartmann', 'owright'];\nvar config = ['NR FF', \"V FF\", \"DC6S\", \"DC0S\"];\nvar dco = ['ok','ok','ok','ok','ok','ok','warn', 'warn', 'bad'];\nvar details = ['SME', \"ALP2\"];\nthis.state = {};\n\nfor (var i  = 0; i < 10 ; i ++) {\n    this.state.captain = pilots[getRandom(0, 7)];\n    this.state.fo = pilots[getRandom(0, 7)];\n    this.state.date = \"2019-07-\" + getRandom(18, 30);\n    this.state.ac = ac[getRandom(0, 5)];\n    this.state.config = config[getRandom(0, 3)];\n    this.state.detail = details[getRandom(0, 1)];\n    this.state.timeStart=  parseInt(getRandom(0, 23) + getRandom(0, 5) +'0');\n    this.state.timeEnd = parseInt(getRandom(Math.floor(this.state.timeStart/100), 23) + getRandom(0, 5) +'0');\nvar newEvent = firebase.firestore().collection(\"events\").doc();\nvar newUpcomingEvent = firebase.firestore().collection('pilots').doc(pilot).collection('upcoming-events').doc();\n\n\n\n    console.log(this.state);\n    var newEvent = firebase.firestore().collection(\"events\").doc();\n    newEvent.set(this.state)\n    .then(function() {\n        console.log(\"Event successfully added to events!\");})\n    .catch(function(error) {\n        console.error(\"Error adding event: \", error);\n    });\n\n    var updates = {};\n    updates['events.'+this.state.captain] = firebase.firestore.FieldValue.arrayUnion({'type':'flight', 'startTime': this.state.timeStart, 'endTime': this.state.timeEnd, 'id':newEvent.id});\n    updates['events.'+this.state.fo] = firebase.firestore.FieldValue.arrayUnion({'type':'flight', 'startTime': this.state.timeStart, 'endTime': this.state.timeEnd, 'id':newEvent.id});\n    var newUpcomingEvents = [firebase.firestore().collection('pilots').doc(this.state.captain).collection('upcoming-events').doc(),\n    firebase.firestore().collection('pilots').doc(this.state.captain).collection('upcoming-events').doc()];\n\n    if (this.state.fe) {\n        updates['events.'+this.state.fo] = firebase.firestore.FieldValue.arrayUnion({'type':'flight', 'startTime': this.state.timeStart, 'endTime': this.state.timeEnd, 'id':newEvent.id});\n        newUpcomingEvents.push(firebase.firestore().collection('pilots').doc(this.state.fe).collection('upcoming-events').doc());\n    }\n    if (this.state.crew) {\n        updates['events.'+this.state.fo] = firebase.firestore.FieldValue.arrayUnion({'type':'flight', 'startTime': this.state.timeStart, 'endTime': this.state.timeEnd, 'id':newEvent.id});\n        newUpcomingEvents.push(firebase.firestore().collection('pilots').doc(this.state.crew).collection('upcoming-events').doc());\n    }\n    firebase.firestore().collection(\"dates\").doc(this.state.date).update(updates)\n    .then(function() {\n        console.log(\"Event successfully added to dates!\");})\n    .catch(function(error) {\n        console.error(\"Error writing document: \", error);\n    })\n\n    newUpcomingEvents.forEach((x)=>{x.set({\n        ac: this.state.ac,\n        captain: this.state.captain,\n        flightid: newEvent.id,\n        config: this.state.config,\n        date: this.state.date,\n        fo: this.state.fo,\n        fe: this.state.fe,\n        crew: this.state.crew,\n        details: this.state.details,\n        timeEnd: this.state.timeEnd,\n        timeStart: this.state.timeStart,})\n    .then(function() {\n        console.log(\"Event successfully added to pilots!\");})\n    .catch(function(error) {\n        console.error(\"Error writing document: \", error);\n    })})\n}\n\n}\n\nexport default updateData;"]},"metadata":{},"sourceType":"module"}