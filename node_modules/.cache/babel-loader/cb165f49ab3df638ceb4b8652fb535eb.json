{"ast":null,"code":"var _jsxFileName = \"/Users/jenny/Desktop/SOAS/scheduler/src/Helper.js\";\nimport React from \"react\";\nimport Const from \"./Const.js\";\nimport firebase from \"./Firebase.js\";\nconst Helper = {\n  parseID(id) {\n    //aearhart to A. Earhart \n    if (id) {\n      return id[0].toUpperCase() + \". \" + id[1].toUpperCase() + id.slice(2);\n    }\n  },\n\n  parseName(name) {\n    //Amelia Earhart to aearhart\n    if (name) {\n      return name[0].toLowerCase() + name.slice(name.indexOf(' ') + 1).toLowerCase();\n    }\n  },\n\n  getLastName(id) {\n    //aearhart to Earhart\n    if (id != \"\") {\n      return id[1].toUpperCase() + id.slice(2);\n    }\n\n    return \"\";\n  },\n\n  getshortenedDate(d) {\n    //YYYY-MM-DD\n    return d.getFullYear() + '-' + (\"0\" + (d.getMonth() + 1)).slice(-2) + \"-\" + (\"0\" + d.getDate()).slice(-2);\n  },\n\n  sortEvents(events) {\n    console.log(events);\n    var sortedEvents = [];\n    events.forEach(event => {\n      console.log(event);\n\n      if (events.length == 0) {\n        events.push(event);\n      } else {\n        var i = 0;\n\n        while (i < sortedEvents.length && parseInt(sortedEvents[i].startTime) > parseInt(event.startTime)) {\n          i += 1;\n        } //Insert at index i\n\n\n        sortedEvents.splice(i, 0, event);\n      }\n    });\n    console.log(sortedEvents);\n    return sortedEvents;\n  },\n\n  getOptionsList(id, values) {\n    //Creates a datalist object for dropdown options\n    var l = [];\n    values.forEach(v => {\n      l.push(React.createElement(\"option\", {\n        value: v,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }));\n    });\n    return React.createElement(\"datalist\", {\n      id: id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, l);\n  },\n\n  checkFieldError(field, value, acceptedValues) {\n    var ok = true;\n\n    switch (field) {\n      case 'captain':\n      case 'fe':\n      case 'fo':\n      case 'crew':\n      case 'p1':\n      case 'p2':\n      case 'p3':\n      case 'p4':\n        if (!acceptedValues.includes(value) && value != \"\") {\n          this.flag(field, 'Invalid pilot');\n        } else {\n          if (document.getElementsByName(\"endTime\")[0].value != '' && document.getElementsByName(\"startTime\")[0].value != '') {\n            this.checkConflict(value, document.getElementsByName('date')[0].value, document.getElementsByName(\"endTime\")[0].value, document.getElementsByName(\"startTime\")[0].value, field);\n          }\n        }\n\n        break;\n\n      case 'startTime':\n        if (isNaN(value) || !this.timeValid(value)) {\n          this.flag('startTime', 'Enter between 0000 and 2359');\n          ok = false;\n        } else if (parseInt(value) >= parseInt(document.getElementsByName(\"endTime\")[0].value)) {\n          this.flag('startTime', 'Return must be after dep.');\n          ok = false;\n        } else {\n          ok = true;\n        }\n\n        break;\n\n      case 'endTime':\n        if (isNaN(value) || !this.timeValid(value)) {\n          this.flag('endTime', 'Enter between 0000 and 2359');\n          ok = false;\n        } else if (parseInt(document.getElementsByName(\"startTime\")[0].value) >= parseInt(value)) {\n          this.flag('endTime', 'Return must be after dep.');\n          ok = false;\n        } else {\n          ok = true;\n        }\n\n        break;\n\n      case 'dco':\n        if (!Const.dcolist.includes(value.toUpperCase())) {\n          this.flag('dco', 'Must be DCO/DNCO/DPCO');\n          ok = false;\n        } else {\n          ok = true;\n        }\n\n        break;\n\n      case 'config':\n        if (!Const.configlist.includes(value.toUpperCase()) && value != '') {\n          this.flag('config', 'Config not accepted. See dropdown.');\n          ok = false;\n        } else {\n          ok = true;\n        }\n\n        break;\n\n      case 'ac':\n        if (!Const.aclist.includes(value.toUpperCase())) {\n          this.flag('ac', 'AC not valid');\n          ok = false;\n        } else {\n          ok = true;\n        }\n\n        break;\n\n      case 'backup':\n        if (!Const.aclist.includes(value.toUpperCase()) && value != '') {\n          this.flag('backup', 'Backup not valid');\n          ok = false;\n        } else {\n          ok = true;\n        }\n\n        break;\n\n      case 'pri':\n        if (!Const.prilist.includes(value.toUpperCase()) && value != '') {\n          this.flag('pri', 'Must be TASK or 1-6');\n          ok = false;\n        } else {\n          ok = true;\n        }\n\n        break;\n\n      default:\n        ok = true;\n        break;\n    }\n  },\n\n  timeValid(time) {\n    return time.length === 4 && parseInt(time.slice(0, 2)) < 24 && parseInt(time.slice(2)) < 60;\n  },\n\n  flag(field, message) {\n    var element = document.getElementById(field);\n    element.setAttribute('data-validate', message);\n    element.classList.add('alert-validate');\n  },\n\n  warn(field, message) {\n    var element = document.getElementById(field);\n    element.setAttribute('data-validate', 'Conflict');\n    element.classList.add('warn-validate');\n  },\n\n  RenderFormButton(onSubmit, text) {\n    return React.createElement(\"div\", {\n      className: \"container-form-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wrap-form-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-bgbtn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"form-btn\",\n      onClick: onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, text)));\n  },\n\n  checkConflict(pilot, date, end, start, field) {\n    //Error checking\n    firebase.firestore().collection(\"dates\").doc(date).get().then(querySnapshot => {\n      if (querySnapshot.exists) {\n        var events = querySnapshot.data().events[pilot];\n\n        if (events) {\n          events.forEach(event => {\n            //console.log(event.startTime, event.endTime)\n            //console.log(start, end)\n            //Check: [{}], {[}] and [{]}, {[]}\n            if (event.startTime <= end && end <= event.endTime || start <= event.endTime && event.endTime <= end) {\n              this.warn(field);\n            }\n          });\n        }\n      }\n    }).catch(function (error) {\n      console.error(\"Error adding event: \", error);\n    });\n  }\n\n};\nexport default Helper;","map":{"version":3,"sources":["/Users/jenny/Desktop/SOAS/scheduler/src/Helper.js"],"names":["React","Const","firebase","Helper","parseID","id","toUpperCase","slice","parseName","name","toLowerCase","indexOf","getLastName","getshortenedDate","d","getFullYear","getMonth","getDate","sortEvents","events","console","log","sortedEvents","forEach","event","length","push","i","parseInt","startTime","splice","getOptionsList","values","l","v","checkFieldError","field","value","acceptedValues","ok","includes","flag","document","getElementsByName","checkConflict","isNaN","timeValid","dcolist","configlist","aclist","prilist","time","message","element","getElementById","setAttribute","classList","add","warn","RenderFormButton","onSubmit","text","pilot","date","end","start","firestore","collection","doc","get","then","querySnapshot","exists","data","endTime","catch","error"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,YAAlB;AACA,OAAOC,QAAP,MAAqB,eAArB;AAEA,MAAMC,MAAM,GAAG;AACXC,EAAAA,OAAO,CAACC,EAAD,EAAK;AACR;AACA,QAAIA,EAAJ,EAAQ;AACR,aAAOA,EAAE,CAAC,CAAD,CAAF,CAAMC,WAAN,KAAsB,IAAtB,GAA6BD,EAAE,CAAC,CAAD,CAAF,CAAMC,WAAN,EAA7B,GAAmDD,EAAE,CAACE,KAAH,CAAS,CAAT,CAA1D;AAAuE;AAC1E,GALU;;AAOXC,EAAAA,SAAS,CAACC,IAAD,EAAO;AACZ;AACA,QAAIA,IAAJ,EAAU;AACV,aAAOA,IAAI,CAAC,CAAD,CAAJ,CAAQC,WAAR,KAAwBD,IAAI,CAACF,KAAL,CAAWE,IAAI,CAACE,OAAL,CAAa,GAAb,IAAkB,CAA7B,EAAgCD,WAAhC,EAA/B;AAA8E;AACjF,GAXU;;AAaXE,EAAAA,WAAW,CAACP,EAAD,EAAK;AACZ;AACA,QAAIA,EAAE,IAAI,EAAV,EAAc;AACV,aAAOA,EAAE,CAAC,CAAD,CAAF,CAAMC,WAAN,KAAsBD,EAAE,CAACE,KAAH,CAAS,CAAT,CAA7B;AACH;;AACD,WAAO,EAAP;AACH,GAnBU;;AAqBXM,EAAAA,gBAAgB,CAACC,CAAD,EAAI;AAChB;AACA,WACIA,CAAC,CAACC,WAAF,KAAkB,GAAlB,GAAwB,CAAC,OAAOD,CAAC,CAACE,QAAF,KAAe,CAAtB,CAAD,EAA2BT,KAA3B,CAAiC,CAAC,CAAlC,CAAxB,GAA+D,GAA/D,GAAsE,CAAC,MAAMO,CAAC,CAACG,OAAF,EAAP,EAAoBV,KAApB,CAA0B,CAAC,CAA3B,CAD1E;AAGH,GA1BU;;AA4BXW,EAAAA,UAAU,CAACC,MAAD,EAAS;AACfC,IAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACA,QAAIG,YAAY,GAAG,EAAnB;AACAH,IAAAA,MAAM,CAACI,OAAP,CAAgBC,KAAD,IAAW;AACtBJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;;AACA,UAAIL,MAAM,CAACM,MAAP,IAAiB,CAArB,EAAwB;AACpBN,QAAAA,MAAM,CAACO,IAAP,CAAYF,KAAZ;AACH,OAFD,MAGK;AACD,YAAIG,CAAC,GAAG,CAAR;;AACA,eAAOA,CAAC,GAAGL,YAAY,CAACG,MAAjB,IAA2BG,QAAQ,CAACN,YAAY,CAACK,CAAD,CAAZ,CAAgBE,SAAjB,CAAR,GAAsCD,QAAQ,CAACJ,KAAK,CAACK,SAAP,CAAhF,EAAoG;AAChGF,UAAAA,CAAC,IAAI,CAAL;AACH,SAJA,CAKD;;;AACAL,QAAAA,YAAY,CAACQ,MAAb,CAAoBH,CAApB,EAAuB,CAAvB,EAA0BH,KAA1B;AACH;AACJ,KAbD;AAcAJ,IAAAA,OAAO,CAACC,GAAR,CAAYC,YAAZ;AACA,WAAOA,YAAP;AACH,GA/CU;;AAkDXS,EAAAA,cAAc,CAAC1B,EAAD,EAAK2B,MAAL,EAAa;AACvB;AACA,QAAIC,CAAC,GAAG,EAAR;AACAD,IAAAA,MAAM,CAACT,OAAP,CAAgBW,CAAD,IAAO;AAClBD,MAAAA,CAAC,CAACP,IAAF,CAAO;AAAQ,QAAA,KAAK,EAAEQ,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH,KAFD;AAGA,WAAQ;AAAU,MAAA,EAAE,EAAE7B,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAmB4B,CAAnB,CAAR;AACH,GAzDU;;AA4DXE,EAAAA,eAAe,CAACC,KAAD,EAAQC,KAAR,EAAeC,cAAf,EAA+B;AAC1C,QAAIC,EAAE,GAAG,IAAT;;AACA,YAAQH,KAAR;AACI,WAAK,SAAL;AACA,WAAK,IAAL;AACA,WAAK,IAAL;AACA,WAAK,MAAL;AACA,WAAK,IAAL;AACA,WAAK,IAAL;AACA,WAAK,IAAL;AACA,WAAK,IAAL;AACI,YAAI,CAACE,cAAc,CAACE,QAAf,CAAwBH,KAAxB,CAAD,IAAmCA,KAAK,IAAI,EAAhD,EAAoD;AAChD,eAAKI,IAAL,CAAUL,KAAV,EAAiB,eAAjB;AACH,SAFD,MAGK;AACD,cAAIM,QAAQ,CAACC,iBAAT,CAA2B,SAA3B,EAAsC,CAAtC,EAAyCN,KAAzC,IAAkD,EAAlD,IAAwDK,QAAQ,CAACC,iBAAT,CAA2B,WAA3B,EAAwC,CAAxC,EAA2CN,KAA3C,IAAoD,EAAhH,EAAoH;AAChH,iBAAKO,aAAL,CAAmBP,KAAnB,EAA0BK,QAAQ,CAACC,iBAAT,CAA2B,MAA3B,EAAmC,CAAnC,EAAsCN,KAAhE,EAAuEK,QAAQ,CAACC,iBAAT,CAA2B,SAA3B,EAAsC,CAAtC,EAAyCN,KAAhH,EAAuHK,QAAQ,CAACC,iBAAT,CAA2B,WAA3B,EAAwC,CAAxC,EAA2CN,KAAlK,EAAyKD,KAAzK;AAEH;AACJ;;AACD;;AACJ,WAAK,WAAL;AACI,YAAIS,KAAK,CAACR,KAAD,CAAL,IAAgB,CAAC,KAAKS,SAAL,CAAeT,KAAf,CAArB,EAA4C;AACxC,eAAKI,IAAL,CAAU,WAAV,EAAuB,6BAAvB;AACAF,UAAAA,EAAE,GAAG,KAAL;AACH,SAHD,MAIK,IAAIX,QAAQ,CAACS,KAAD,CAAR,IAAmBT,QAAQ,CAACc,QAAQ,CAACC,iBAAT,CAA2B,SAA3B,EAAsC,CAAtC,EAAyCN,KAA1C,CAA/B,EAAiF;AAClF,eAAKI,IAAL,CAAU,WAAV,EAAuB,2BAAvB;AACAF,UAAAA,EAAE,GAAG,KAAL;AACH,SAHI,MAIA;AAACA,UAAAA,EAAE,GAAG,IAAL;AAAW;;AACjB;;AACJ,WAAK,SAAL;AACI,YAAIM,KAAK,CAACR,KAAD,CAAL,IAAgB,CAAC,KAAKS,SAAL,CAAeT,KAAf,CAArB,EAA4C;AACxC,eAAKI,IAAL,CAAU,SAAV,EAAqB,6BAArB;AACAF,UAAAA,EAAE,GAAG,KAAL;AACH,SAHD,MAIK,IAAIX,QAAQ,CAACc,QAAQ,CAACC,iBAAT,CAA2B,WAA3B,EAAwC,CAAxC,EAA2CN,KAA5C,CAAR,IAA8DT,QAAQ,CAACS,KAAD,CAA1E,EAAmF;AACpF,eAAKI,IAAL,CAAU,SAAV,EAAqB,2BAArB;AACAF,UAAAA,EAAE,GAAG,KAAL;AACH,SAHI,MAIA;AAACA,UAAAA,EAAE,GAAG,IAAL;AAAW;;AACjB;;AACJ,WAAK,KAAL;AACI,YAAI,CAAEtC,KAAK,CAAC8C,OAAN,CAAcP,QAAd,CAAuBH,KAAK,CAAC/B,WAAN,EAAvB,CAAN,EAAoD;AAChD,eAAKmC,IAAL,CAAU,KAAV,EAAiB,uBAAjB;AACAF,UAAAA,EAAE,GAAG,KAAL;AACH,SAHD,MAIK;AAACA,UAAAA,EAAE,GAAG,IAAL;AAAW;;AACjB;;AACJ,WAAK,QAAL;AACI,YAAI,CAAEtC,KAAK,CAAC+C,UAAN,CAAiBR,QAAjB,CAA0BH,KAAK,CAAC/B,WAAN,EAA1B,CAAF,IAAqD+B,KAAK,IAAI,EAAlE,EAAsE;AAClE,eAAKI,IAAL,CAAU,QAAV,EAAoB,oCAApB;AACAF,UAAAA,EAAE,GAAG,KAAL;AACH,SAHD,MAIK;AAACA,UAAAA,EAAE,GAAG,IAAL;AAAW;;AACjB;;AACJ,WAAK,IAAL;AACI,YAAI,CAAEtC,KAAK,CAACgD,MAAN,CAAaT,QAAb,CAAsBH,KAAK,CAAC/B,WAAN,EAAtB,CAAN,EAAmD;AAC/C,eAAKmC,IAAL,CAAU,IAAV,EAAgB,cAAhB;AACAF,UAAAA,EAAE,GAAG,KAAL;AACH,SAHD,MAIK;AAACA,UAAAA,EAAE,GAAG,IAAL;AAAW;;AACjB;;AACJ,WAAK,QAAL;AACI,YAAI,CAAEtC,KAAK,CAACgD,MAAN,CAAaT,QAAb,CAAsBH,KAAK,CAAC/B,WAAN,EAAtB,CAAF,IAAiD+B,KAAK,IAAI,EAA9D,EAAkE;AAC9D,eAAKI,IAAL,CAAU,QAAV,EAAoB,kBAApB;AACAF,UAAAA,EAAE,GAAG,KAAL;AACH,SAHD,MAIK;AAACA,UAAAA,EAAE,GAAG,IAAL;AAAW;;AACjB;;AACJ,WAAK,KAAL;AACI,YAAI,CAACtC,KAAK,CAACiD,OAAN,CAAcV,QAAd,CAAuBH,KAAK,CAAC/B,WAAN,EAAvB,CAAD,IAAgD+B,KAAK,IAAI,EAA7D,EAAiE;AAC7D,eAAKI,IAAL,CAAU,KAAV,EAAiB,qBAAjB;AACAF,UAAAA,EAAE,GAAG,KAAL;AACH,SAHD,MAIK;AAACA,UAAAA,EAAE,GAAG,IAAL;AAAW;;AACjB;;AACJ;AACIA,QAAAA,EAAE,GAAG,IAAL;AACA;AA9ER;AAgFH,GA9IU;;AAgJXO,EAAAA,SAAS,CAACK,IAAD,EAAO;AACZ,WAAOA,IAAI,CAAC1B,MAAL,KAAgB,CAAhB,IAAqBG,QAAQ,CAACuB,IAAI,CAAC5C,KAAL,CAAW,CAAX,EAAa,CAAb,CAAD,CAAR,GAA4B,EAAjD,IAAuDqB,QAAQ,CAACuB,IAAI,CAAC5C,KAAL,CAAW,CAAX,CAAD,CAAR,GAA0B,EAAxF;AACH,GAlJU;;AAqJXkC,EAAAA,IAAI,CAACL,KAAD,EAAQgB,OAAR,EAAiB;AACjB,QAAIC,OAAO,GAAGX,QAAQ,CAACY,cAAT,CAAwBlB,KAAxB,CAAd;AACAiB,IAAAA,OAAO,CAACE,YAAR,CAAqB,eAArB,EAAsCH,OAAtC;AACAC,IAAAA,OAAO,CAACG,SAAR,CAAkBC,GAAlB,CAAsB,gBAAtB;AACH,GAzJU;;AA0JXC,EAAAA,IAAI,CAACtB,KAAD,EAAQgB,OAAR,EAAiB;AACjB,QAAIC,OAAO,GAAGX,QAAQ,CAACY,cAAT,CAAwBlB,KAAxB,CAAd;AACAiB,IAAAA,OAAO,CAACE,YAAR,CAAqB,eAArB,EAAsC,UAAtC;AACAF,IAAAA,OAAO,CAACG,SAAR,CAAkBC,GAAlB,CAAsB,eAAtB;AACH,GA9JU;;AAiKXE,EAAAA,gBAAgB,CAACC,QAAD,EAAWC,IAAX,EAAiB;AAC7B,WACI;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAQ,MAAA,SAAS,EAAC,UAAlB;AAA6B,MAAA,OAAO,EAAED,QAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKC,IADL,CAFJ,CADJ,CADJ;AAUH,GA5KU;;AA8KXjB,EAAAA,aAAa,CAACkB,KAAD,EAAQC,IAAR,EAAcC,GAAd,EAAmBC,KAAnB,EAA0B7B,KAA1B,EAAiC;AAC1C;AAEAlC,IAAAA,QAAQ,CAACgE,SAAT,GAAqBC,UAArB,CAAgC,OAAhC,EAAyCC,GAAzC,CAA6CL,IAA7C,EACCM,GADD,GAECC,IAFD,CAEOC,aAAD,IAAmB;AACrB,UAAIA,aAAa,CAACC,MAAlB,EAA0B;AACtB,YAAIrD,MAAM,GAAGoD,aAAa,CAACE,IAAd,GAAqBtD,MAArB,CAA4B2C,KAA5B,CAAb;;AACA,YAAI3C,MAAJ,EAAY;AACRA,UAAAA,MAAM,CAACI,OAAP,CAAgBC,KAAD,IAAW;AACtB;AACA;AACA;AACA,gBAAKA,KAAK,CAACK,SAAN,IAAmBmC,GAAnB,IAA0BA,GAAG,IAAIxC,KAAK,CAACkD,OAAxC,IAAqDT,KAAK,IAAIzC,KAAK,CAACkD,OAAf,IAA0BlD,KAAK,CAACkD,OAAN,IAAiBV,GAApG,EAA0G;AACtG,mBAAKN,IAAL,CAAUtB,KAAV;AACH;AACJ,WAPD;AAQH;AACJ;AACJ,KAhBD,EAmBCuC,KAnBD,CAmBO,UAASC,KAAT,EAAgB;AACnBxD,MAAAA,OAAO,CAACwD,KAAR,CAAc,sBAAd,EAAsCA,KAAtC;AACH,KArBD;AAsBH;;AAvMU,CAAf;AA8MA,eAAezE,MAAf","sourcesContent":["import React from \"react\";\nimport Const from \"./Const.js\";\nimport firebase from \"./Firebase.js\";\n\nconst Helper = {\n    parseID(id) {\n        //aearhart to A. Earhart \n        if (id) {\n        return id[0].toUpperCase() + \". \" + id[1].toUpperCase() + id.slice(2);}\n    },\n\n    parseName(name) {\n        //Amelia Earhart to aearhart\n        if (name) {\n        return name[0].toLowerCase() + name.slice(name.indexOf(' ')+1).toLowerCase();}\n    },\n\n    getLastName(id) {\n        //aearhart to Earhart\n        if (id != \"\") {\n            return id[1].toUpperCase() + id.slice(2);\n        }\n        return \"\";\n    },    \n\n    getshortenedDate(d) {\n        //YYYY-MM-DD\n        return (\n            d.getFullYear() + '-' + (\"0\" + (d.getMonth() + 1)).slice(-2) + \"-\" +  (\"0\" + d.getDate()).slice(-2)\n        )\n    },\n\n    sortEvents(events) {\n        console.log(events);\n        var sortedEvents = []\n        events.forEach((event) => {\n            console.log(event);\n            if (events.length == 0) {\n                events.push(event)\n            }\n            else {\n                var i = 0;\n                while (i < sortedEvents.length && parseInt(sortedEvents[i].startTime) > parseInt(event.startTime) ) {\n                    i += 1;\n                }\n                //Insert at index i\n                sortedEvents.splice(i, 0, event);\n            }\n        })\n        console.log(sortedEvents);\n        return sortedEvents\n    },\n\n\n    getOptionsList(id, values) {\n        //Creates a datalist object for dropdown options\n        var l = [];\n        values.forEach((v) => {\n            l.push(<option value={v}/>);\n        });\n        return (<datalist id={id}>{l}</datalist>);\n    },\n\n\n    checkFieldError(field, value, acceptedValues) {\n        var ok = true;\n        switch (field){\n            case 'captain':\n            case 'fe':\n            case 'fo':\n            case 'crew':\n            case 'p1':\n            case 'p2':\n            case 'p3':\n            case 'p4':\n                if (!acceptedValues.includes(value) && value != \"\") {\n                    this.flag(field, 'Invalid pilot');\n                }\n                else {\n                    if (document.getElementsByName(\"endTime\")[0].value != '' && document.getElementsByName(\"startTime\")[0].value != '') {\n                        this.checkConflict(value, document.getElementsByName('date')[0].value, document.getElementsByName(\"endTime\")[0].value, document.getElementsByName(\"startTime\")[0].value, field)\n\n                    }\n                }\n                break;\n            case 'startTime':\n                if (isNaN(value) || !this.timeValid(value)) {\n                    this.flag('startTime', 'Enter between 0000 and 2359');\n                    ok = false;\n                }\n                else if (parseInt(value) >= parseInt(document.getElementsByName(\"endTime\")[0].value)) {\n                    this.flag('startTime', 'Return must be after dep.');\n                    ok = false;\n                }\n                else {ok = true;}\n                break;\n            case 'endTime':\n                if (isNaN(value) || !this.timeValid(value)) {\n                    this.flag('endTime', 'Enter between 0000 and 2359');\n                    ok = false;\n                }\n                else if (parseInt(document.getElementsByName(\"startTime\")[0].value) >= parseInt(value)) {\n                    this.flag('endTime', 'Return must be after dep.');\n                    ok = false;\n                }\n                else {ok = true;}\n                break;\n            case 'dco':\n                if (!(Const.dcolist.includes(value.toUpperCase()))) {\n                    this.flag('dco', 'Must be DCO/DNCO/DPCO');\n                    ok = false;\n                }\n                else {ok = true;}\n                break;\n            case 'config':\n                if (!(Const.configlist.includes(value.toUpperCase())) && value != '') {\n                    this.flag('config', 'Config not accepted. See dropdown.');\n                    ok = false;\n                }\n                else {ok = true;}\n                break;\n            case 'ac':\n                if (!(Const.aclist.includes(value.toUpperCase()))) {\n                    this.flag('ac', 'AC not valid');\n                    ok = false;\n                }\n                else {ok = true;}\n                break;\n            case 'backup':\n                if (!(Const.aclist.includes(value.toUpperCase())) && value != '') {\n                    this.flag('backup', 'Backup not valid');\n                    ok = false;\n                }\n                else {ok = true;}\n                break;\n            case 'pri':\n                if (!Const.prilist.includes(value.toUpperCase()) && value != '') {\n                    this.flag('pri', 'Must be TASK or 1-6');\n                    ok = false;\n                }\n                else {ok = true;}\n                break;\n            default: \n                ok = true;\n                break;\n            }\n    },\n\n    timeValid(time) {\n        return time.length === 4 && parseInt(time.slice(0,2)) < 24 && parseInt(time.slice(2)) < 60;\n    },\n\n\n    flag(field, message) {\n        var element = document.getElementById(field);\n        element.setAttribute('data-validate', message);\n        element.classList.add('alert-validate');\n    },\n    warn(field, message) {\n        var element = document.getElementById(field);\n        element.setAttribute('data-validate', 'Conflict');\n        element.classList.add('warn-validate');\n    },\n\n\n    RenderFormButton(onSubmit, text) {\n        return (\n            <div className=\"container-form-btn\">\n                <div className=\"wrap-form-btn\">\n                    <div className=\"form-bgbtn\"></div>\n                    <button className=\"form-btn\" onClick={onSubmit}>\n                        {text}\n                    </button>\n                </div>\n            </div>\n        );\n    },\n    \n    checkConflict(pilot, date, end, start, field) {\n        //Error checking\n        \n        firebase.firestore().collection(\"dates\").doc(date)\n        .get()\n        .then((querySnapshot) => {\n            if (querySnapshot.exists) {\n                var events = querySnapshot.data().events[pilot];\n                if (events) {\n                    events.forEach((event) => {\n                        //console.log(event.startTime, event.endTime)\n                        //console.log(start, end)\n                        //Check: [{}], {[}] and [{]}, {[]}\n                        if ((event.startTime <= end && end <= event.endTime) || (start <= event.endTime && event.endTime <= end)) {\n                            this.warn(field);\n                        } \n                    })\n                }\n            }\n        }\n            \n        )\n        .catch(function(error) {\n            console.error(\"Error adding event: \", error);\n        });\n    }\n\n}\n\n\n\n\nexport default Helper;"]},"metadata":{},"sourceType":"module"}