{"ast":null,"code":"import firebase from \"./Firebase.js\";\nlet firestore = firebase.firestore();\n\nfunction deleteFlight(props) {\n  //Delete from events \n  firestore.collection(\"events\").doc(props.id).delete().then(console.log(\"Document successfully deleted from events\")).catch(function (error) {\n    console.log(\"Error getting documents: \", error);\n  });\n  props.pilots.forEach(pilot => {\n    var path = \"events.\" + pilot; //Delete from dates\n\n    firestore.collection(\"dates\").doc(props.date).update({\n      [path]: firebase.firestore.FieldValue.arrayRemove({\n        'type': 'flight',\n        'start': props.timeStart,\n        'end': props.timeEnd,\n        'id': props.id\n      })\n    }).then(console.log(\"Document successfully deleted from events\")).catch(function (error) {\n      console.log(\"Error getting documents: \", error);\n    }); //Delete from pilots\n\n    firestore.collection(\"pilots\").doc(pilot).collection(upcoming - events).where('flightid', '==', props.id).delete().then(console.log(\"Document successfully deleted from events\")).catch(function (error) {\n      console.log(\"Error getting documents: \", error);\n    });\n  });\n}\n\nexport { deleteFlight };","map":{"version":3,"sources":["/Users/jenny/Desktop/SOAS/scheduler/src/FirebaseHelper.js"],"names":["firebase","firestore","deleteFlight","props","collection","doc","id","delete","then","console","log","catch","error","pilots","forEach","pilot","path","date","update","FieldValue","arrayRemove","timeStart","timeEnd","upcoming","events","where"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,eAArB;AAEA,IAAIC,SAAS,GAAGD,QAAQ,CAACC,SAAT,EAAhB;;AAEA,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AACzB;AACAF,EAAAA,SAAS,CAACG,UAAV,CAAqB,QAArB,EAA+BC,GAA/B,CAAmCF,KAAK,CAACG,EAAzC,EACKC,MADL,GAEKC,IAFL,CAGQC,OAAO,CAACC,GAAR,CAAY,2CAAZ,CAHR,EAIKC,KAJL,CAIW,UAASC,KAAT,EAAgB;AACnBH,IAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCE,KAAzC;AACP,GAND;AAQAT,EAAAA,KAAK,CAACU,MAAN,CAAaC,OAAb,CAAqBC,KAAK,IAAI;AAC1B,QAAIC,IAAI,GAAG,YAAYD,KAAvB,CAD0B,CAG1B;;AACAd,IAAAA,SAAS,CAACG,UAAV,CAAqB,OAArB,EAA8BC,GAA9B,CAAkCF,KAAK,CAACc,IAAxC,EAA8CC,MAA9C,CAAqD;AACjD,OAACF,IAAD,GAAQhB,QAAQ,CAACC,SAAT,CAAmBkB,UAAnB,CAA8BC,WAA9B,CAA0C;AAAC,gBAAO,QAAR;AAAkB,iBAAQjB,KAAK,CAACkB,SAAhC;AAA2C,eAAOlB,KAAK,CAACmB,OAAxD;AAAiE,cAAMnB,KAAK,CAACG;AAA7E,OAA1C;AADyC,KAArD,EAGKE,IAHL,CAIQC,OAAO,CAACC,GAAR,CAAY,2CAAZ,CAJR,EAKKC,KALL,CAKW,UAASC,KAAT,EAAgB;AACnBH,MAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCE,KAAzC;AACP,KAPD,EAJ0B,CAa1B;;AACAX,IAAAA,SAAS,CAACG,UAAV,CAAqB,QAArB,EAA+BC,GAA/B,CAAmCU,KAAnC,EAA0CX,UAA1C,CAAqDmB,QAAQ,GAACC,MAA9D,EAAsEC,KAAtE,CAA4E,UAA5E,EAAwF,IAAxF,EAA8FtB,KAAK,CAACG,EAApG,EACKC,MADL,GAEKC,IAFL,CAGQC,OAAO,CAACC,GAAR,CAAY,2CAAZ,CAHR,EAIKC,KAJL,CAIW,UAASC,KAAT,EAAgB;AACnBH,MAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCE,KAAzC;AACP,KAND;AAOH,GArBD;AAuBH;;AAED,SAAQV,YAAR","sourcesContent":["import firebase from \"./Firebase.js\";\n\nlet firestore = firebase.firestore();\n\nfunction deleteFlight(props) {\n    //Delete from events \n    firestore.collection(\"events\").doc(props.id)\n        .delete()\n        .then(\n            console.log(\"Document successfully deleted from events\"))\n        .catch(function(error) {\n            console.log(\"Error getting documents: \", error);\n    });\n    \n    props.pilots.forEach(pilot => {\n        var path = \"events.\" + pilot;\n\n        //Delete from dates\n        firestore.collection(\"dates\").doc(props.date).update({\n            [path]: firebase.firestore.FieldValue.arrayRemove({'type':'flight', 'start':props.timeStart, 'end': props.timeEnd, 'id': props.id})\n        })\n            .then(\n                console.log(\"Document successfully deleted from events\"))\n            .catch(function(error) {\n                console.log(\"Error getting documents: \", error);\n        });\n\n        //Delete from pilots\n        firestore.collection(\"pilots\").doc(pilot).collection(upcoming-events).where('flightid', '==', props.id)\n            .delete()\n            .then(\n                console.log(\"Document successfully deleted from events\"))\n            .catch(function(error) {\n                console.log(\"Error getting documents: \", error);\n        });\n    })\n    \n}\n\nexport {deleteFlight};"]},"metadata":{},"sourceType":"module"}