{"ast":null,"code":"var _jsxFileName = \"/Users/jenny/Desktop/SOAS/scheduler/src/MeetingForm.js\";\nimport React from \"react\";\nimport \"./Form.css\";\nimport firebase from \"./Firebase.js\";\n\nDate.prototype.toDateInputValue = function () {\n  var local = new Date(this);\n  local.setMinutes(this.getMinutes() - this.getTimezoneOffset());\n  return local.toJSON().slice(0, 10);\n};\n\nclass MeetingForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: \"\",\n      type: \"meeting\",\n      date: new Date().toDateInputValue(),\n      startTime: 0,\n      endTime: 0,\n      location: \"\",\n      confLink: \"\",\n      notes: \"\",\n      userid: \"\"\n    };\n  }\n\n  onSubmit() {\n    console.log(this.state);\n    var newEvent = firebase.firestore().collection(\"events\").doc();\n    newEvent.set(this.state).then(function () {\n      console.log(\"Event successfully added to events!\");\n    }).catch(function (error) {\n      console.error(\"Error adding event: \", error);\n    });\n    var field = 'events.' + this.state.userid;\n    firebase.firestore().collection(\"dates\").doc(this.state.startDate).update({\n      [field]: firebase.firestore.FieldValue.arrayUnion({\n        'type': 'meeting',\n        'startTime': this.state.startTime,\n        'endTime': this.state.endTime,\n        'id': newEvent.id\n      })\n    }).then(function () {\n      console.log(\"Event successfully added to dates!\");\n    }).catch(function (error) {\n      console.error(\"Error writing document: \", error);\n    });\n  }\n\n  onBlur(name, e, type) {\n    if (type == 'date') {\n      var d = new Date(e.target.value);\n      d.setMinutes(d.getMinutes() + d.getTimezoneOffset());\n      this.setState({\n        date: d.toDateInputValue()\n      });\n    } else if (type == 'number') {\n      this.setState({\n        [name]: e.target.value\n      });\n    } else {\n      this.setState({\n        [name]: e.target.value.trim()\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.setState({\n      userid: (this.props.activeUser[0] + this.props.activeUser.split(' ')[1]).toLowerCase()\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"form validate-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wrap-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"input\" + (this.state.title !== \"\" ? \" has-val\" : \"\"),\n      type: \"text\",\n      name: \"title\",\n      required: true,\n      onBlur: e => {\n        this.onBlur('title', e);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"focus-input\",\n      \"data-placeholder\": \"MEETING TITLE\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"row-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"medium-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"input has-val\",\n      type: \"date\",\n      name: \"name\",\n      required: true,\n      value: new Date().toDateInputValue(),\n      onBlur: e => {\n        this.onBlur('startDate', e, 'date');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"focus-input\",\n      \"data-placeholder\": \"DATE\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"medium-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"input\" + (this.state.startTime !== 0 ? \" has-val\" : \"\"),\n      type: \"number\",\n      name: \"startTime\",\n      required: true,\n      onBlur: e => {\n        this.onBlur('startTime', e, 'number');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"focus-input\",\n      \"data-placeholder\": \"START TIME\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"medium-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"input\" + (this.state.endTime !== 0 ? \" has-val\" : \"\"),\n      type: \"number\",\n      name: \"endTime\",\n      required: true,\n      onBlur: e => {\n        this.onBlur('endTime', e, 'number');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"focus-input\",\n      \"data-placeholder\": \"END TIME\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"medium-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"input\" + (this.state.location !== \"\" ? \" has-val\" : \"\"),\n      type: \"text\",\n      name: \"esp\",\n      onBlur: e => {\n        this.onBlur('location', e);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"focus-input\",\n      \"data-placeholder\": \"LOCATION\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"medium-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"input\" + (this.state.confLink !== \"\" ? \" has-val\" : \"\"),\n      type: \"text\",\n      onBlur: e => {\n        this.onBlur('confLink', e);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"focus-input\",\n      \"data-placeholder\": \"CONFERENCE LINK\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"large-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"input\" + (this.state.notes !== \"\" ? \" has-val\" : \"\"),\n      type: \"text\",\n      onBlur: e => {\n        this.onBlur('notes', e);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"focus-input\",\n      \"data-placeholder\": \"NOTES\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"container-form-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wrap-form-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-bgbtn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"form-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Add Meeting\")))));\n  }\n\n}\n\nexport default MeetingForm;","map":{"version":3,"sources":["/Users/jenny/Desktop/SOAS/scheduler/src/MeetingForm.js"],"names":["React","firebase","Date","prototype","toDateInputValue","local","setMinutes","getMinutes","getTimezoneOffset","toJSON","slice","MeetingForm","Component","constructor","props","state","title","type","date","startTime","endTime","location","confLink","notes","userid","onSubmit","console","log","newEvent","firestore","collection","doc","set","then","catch","error","field","startDate","update","FieldValue","arrayUnion","id","onBlur","name","e","d","target","value","setState","trim","componentDidMount","activeUser","split","toLowerCase","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./Form.css\";\nimport firebase from \"./Firebase.js\";\n\n\nDate.prototype.toDateInputValue = (function() {\n    var local = new Date(this);\n    local.setMinutes(this.getMinutes() - this.getTimezoneOffset());\n    return local.toJSON().slice(0,10);\n});\n\n\nclass MeetingForm extends React.Component {\n    constructor(props) { \n        super(props);\n        this.state = {\n            title: \"\", \n            type: \"meeting\", \n            date: new Date().toDateInputValue(),\n            startTime: 0,\n            endTime: 0,\n            location: \"\", \n            confLink: \"\",\n            notes: \"\",\n            userid: \"\",\n        }\n    }\n\n    onSubmit() {\n        console.log(this.state);\n        var newEvent = firebase.firestore().collection(\"events\").doc()\n        newEvent.set(this.state)\n        .then(function() {\n            console.log(\"Event successfully added to events!\");})\n        .catch(function(error) {\n            console.error(\"Error adding event: \", error);\n        });\n\n        var field = 'events.'+this.state.userid;\n        firebase.firestore().collection(\"dates\").doc(this.state.startDate).update({\n            [field]: firebase.firestore.FieldValue.arrayUnion({'type':'meeting', 'startTime': this.state.startTime, 'endTime': this.state.endTime, 'id':newEvent.id})\n            })\n        .then(function() {\n            console.log(\"Event successfully added to dates!\");})\n        .catch(function(error) {\n            console.error(\"Error writing document: \", error);\n        })\n    }\n\n    onBlur(name, e, type) {\n        if (type == 'date') {\n            var d = new Date(e.target.value);\n            d.setMinutes( d.getMinutes() + d.getTimezoneOffset() );\n            this.setState({date: d.toDateInputValue()});\n        }\n        else if (type == 'number')  {\n            this.setState({[name]: e.target.value});\n        }\n        else {\n            this.setState({[name]: e.target.value.trim()});\n        }\n    }\n\n    componentDidMount() {\n        this.setState({userid: (this.props.activeUser[0] + this.props.activeUser.split(' ')[1]).toLowerCase()});\n    }\n\n\n    render() {\n        return (\n            <div>\n                <form className=\"form validate-form\">\n                    <div className=\"wrap-input\">\n                        <input className={\"input\"+ (this.state.title !== \"\"? \" has-val\": \"\")} type=\"text\" name=\"title\" required={true} onBlur={(e)=>{this.onBlur('title',e)}}/>\n                        <span className=\"focus-input\" data-placeholder=\"MEETING TITLE\"></span>\n                    </div>\n                    <div className=\"row-wrapper\"> \n                        <div className=\"medium-wrapper\">\n                            <input className=\"input has-val\" type=\"date\" name=\"name\" \n                                required={true}\n                                value={new Date().toDateInputValue()} \n                                onBlur={(e)=>{this.onBlur('startDate',e, 'date')}}/>\n                            <span className=\"focus-input\" data-placeholder=\"DATE\"></span>\n                        </div>\n                        <div className=\"medium-wrapper\">\n                            <input className={\"input\"+ (this.state.startTime !== 0 ? \" has-val\": \"\")} type=\"number\" name=\"startTime\" \n                                required={true}\n                                onBlur={(e)=>{this.onBlur('startTime',e, 'number')}}/>\n                            <span className=\"focus-input\" data-placeholder=\"START TIME\"></span>\n                        </div>\n                        <div className=\"medium-wrapper\">\n                            <input className={\"input\"+ (this.state.endTime !== 0 ? \" has-val\": \"\")} type=\"number\" name=\"endTime\" \n                                required={true}\n                                onBlur={(e)=>{this.onBlur('endTime',e, 'number')}}/>\n                            <span className=\"focus-input\" data-placeholder=\"END TIME\"></span>\n                        </div>\n                    </div>\n                    <div className=\"row-wrapper\"> \n                        <div className=\"medium-wrapper\">\n                            <input className={\"input\"+ (this.state.location !== \"\" ? \" has-val\": \"\")} type=\"text\" name=\"esp\" onBlur={(e)=>{this.onBlur('location',e)}}/>\n                            <span className=\"focus-input\" data-placeholder=\"LOCATION\"></span>\n                        </div>\n                        <div className=\"medium-wrapper\">\n                            <input className={\"input\"+ (this.state.confLink !== \"\" ? \" has-val\": \"\")} type=\"text\" onBlur={(e)=>{this.onBlur('confLink',e)}}/>\n                            <span className=\"focus-input\" data-placeholder=\"CONFERENCE LINK\"></span>\n                        </div>\n                    </div>\n                    <div className=\"row-wrapper\"> \n                        <div className=\"large-wrapper\">\n                            <input className={\"input\"+ (this.state.notes !== \"\" ? \" has-val\": \"\")} type=\"text\" onBlur={(e)=>{this.onBlur('notes',e)}}/>\n                            <span className=\"focus-input\" data-placeholder=\"NOTES\"></span>\n                        </div>\n                    </div>\n                    \n\n                    \n                    <div className=\"container-form-btn\">\n                        <div className=\"wrap-form-btn\">\n                            <div className=\"form-bgbtn\"></div>\n                            <button className=\"form-btn\">\n                                Add Meeting\n                            </button>\n                        </div>\n                    </div>\n                </form>\n\n            </div>\n\n        );\n    }\n}\n\nexport default MeetingForm;"]},"metadata":{},"sourceType":"module"}